<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æ“ä½œç³»ç»Ÿ]]></title>
    <url>%2Funcategorized%2Foperatoration%2F</url>
    <content type="text"><![CDATA[æ¦‚è¦åŸºæœ¬ç‰¹å¾ å…±äº«-äº’æ–¥å…±äº«å’ŒåŒæ—¶å…±äº« å¹¶å‘ä¸å¹¶è¡Œ è™šæ‹Ÿ-æ—¶ï¼ˆæ—¶é—´ï¼‰åˆ†å¤ç”¨æŠ€æœ¯å’Œç©ºï¼ˆç©ºé—´ï¼‰åˆ†å¤ç”¨æŠ€æœ¯ å¼‚æ­¥åŸºæœ¬åŠŸèƒ½è¿›ç¨‹ç®¡ç†è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ã€‚è¿›ç¨‹æ§åˆ¶å— (Process Control Block, PCB) æè¿°è¿›ç¨‹çš„åŸºæœ¬ä¿¡æ¯å’Œè¿è¡ŒçŠ¶æ€ï¼Œæ‰€è°“çš„åˆ›å»ºè¿›ç¨‹å’Œæ’¤é”€è¿›ç¨‹ï¼Œéƒ½æ˜¯æŒ‡å¯¹ PCB çš„æ“ä½œã€‚ çº¿ç¨‹æ˜¯ç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚ åŒºåˆ«ï¼š çº¿ç¨‹ä¸å æœ‰èµ„æº åŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹åˆ‡æ¢ä¸ä¼šå¯¼è‡´è¿›ç¨‹åˆ‡æ¢ çº¿ç¨‹é—´å¯ä»¥é€šè¿‡ç›´æ¥è¯»å†™åŒä¸€è¿›ç¨‹ä¸­çš„æ•°æ®è¿›è¡Œé€šä¿¡ï¼Œä½†æ˜¯è¿›ç¨‹é€šä¿¡éœ€è¦å€ŸåŠ© IPCã€‚ ç”±äºåˆ›å»ºæˆ–æ’¤é”€è¿›ç¨‹æ—¶ï¼Œç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…æˆ–å›æ”¶èµ„æºï¼Œå¦‚å†…å­˜ç©ºé—´ã€I/O è®¾å¤‡ç­‰ï¼Œæ‰€ä»˜å‡ºçš„å¼€é”€è¿œå¤§äºåˆ›å»ºæˆ–æ’¤é”€çº¿ç¨‹æ—¶çš„å¼€é”€ã€‚ç±»ä¼¼åœ°ï¼Œåœ¨è¿›è¡Œè¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œæ¶‰åŠå½“å‰æ‰§è¡Œè¿›ç¨‹ CPU ç¯å¢ƒçš„ä¿å­˜åŠæ–°è°ƒåº¦è¿›ç¨‹ CPU ç¯å¢ƒçš„è®¾ç½®ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢æ—¶åªéœ€ä¿å­˜å’Œè®¾ç½®å°‘é‡å¯„å­˜å™¨å†…å®¹ï¼Œå¼€é”€å¾ˆå°ã€‚åˆ‡æ¢å°±ç»ªæ€ï¼Œè¿è¡Œæ€ï¼Œé˜»å¡æ€è¿›ç¨‹è°ƒåº¦ç®—æ³•æ‰¹å¤„ç†ç³»ç»Ÿæ‰¹å¤„ç†ç³»ç»Ÿæ²¡æœ‰å¤ªå¤šçš„ç”¨æˆ·æ“ä½œï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œè°ƒåº¦ç®—æ³•ç›®æ ‡æ˜¯ä¿è¯ååé‡å’Œå‘¨è½¬æ—¶é—´ï¼ˆä»æäº¤åˆ°ç»ˆæ­¢çš„æ—¶é—´ï¼‰ã€‚ å…ˆæ¥å…ˆæœåŠ¡ first-come first-serverdï¼ˆFCFSï¼‰ éæŠ¢å å¼çš„è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ç…§è¯·æ±‚çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚æœ‰åˆ©äºé•¿ä½œä¸šï¼Œä½†ä¸åˆ©äºçŸ­ä½œä¸šï¼Œå› ä¸ºçŸ­ä½œä¸šå¿…é¡»ä¸€ç›´ç­‰å¾…å‰é¢çš„é•¿ä½œä¸šæ‰§è¡Œå®Œæ¯•æ‰èƒ½æ‰§è¡Œï¼Œè€Œé•¿ä½œä¸šåˆéœ€è¦æ‰§è¡Œå¾ˆé•¿æ—¶é—´ï¼Œé€ æˆäº†çŸ­ä½œä¸šç­‰å¾…æ—¶é—´è¿‡é•¿ã€‚ å…ˆæ¥å…ˆæœåŠ¡ first-come first-serverdï¼ˆFCFSï¼‰ éæŠ¢å å¼çš„è°ƒåº¦ç®—æ³•ï¼ŒæŒ‰ä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚é•¿ä½œä¸šæœ‰å¯èƒ½ä¼šé¥¿æ­»ï¼Œå¤„äºä¸€ç›´ç­‰å¾…çŸ­ä½œä¸šæ‰§è¡Œå®Œæ¯•çš„çŠ¶æ€ã€‚å› ä¸ºå¦‚æœä¸€ç›´æœ‰çŸ­ä½œä¸šåˆ°æ¥ï¼Œé‚£ä¹ˆé•¿ä½œä¸šæ°¸è¿œå¾—ä¸åˆ°è°ƒåº¦ã€‚ å…ˆæ¥å…ˆæœåŠ¡ first-come first-serverdï¼ˆFCFSï¼‰ æœ€çŸ­ä½œä¸šä¼˜å…ˆçš„æŠ¢å å¼ç‰ˆæœ¬ï¼ŒæŒ‰å‰©ä½™è¿è¡Œæ—¶é—´çš„é¡ºåºè¿›è¡Œè°ƒåº¦ã€‚ å½“ä¸€ä¸ªæ–°çš„ä½œä¸šåˆ°è¾¾æ—¶ï¼Œå…¶æ•´ä¸ªè¿è¡Œæ—¶é—´ä¸å½“å‰è¿›ç¨‹çš„å‰©ä½™æ—¶é—´ä½œæ¯”è¾ƒã€‚å¦‚æœæ–°çš„è¿›ç¨‹éœ€è¦çš„æ—¶é—´æ›´å°‘ï¼Œåˆ™æŒ‚èµ·å½“å‰è¿›ç¨‹ï¼Œè¿è¡Œæ–°çš„è¿›ç¨‹ã€‚å¦åˆ™æ–°çš„è¿›ç¨‹ç­‰å¾…ã€‚ äº¤äº’å¼ç³»ç»Ÿæ‰¹å¤„ç†ç³»ç»Ÿæ²¡æœ‰å¤ªå¤šçš„ç”¨æˆ·æ“ä½œï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œè°ƒåº¦ç®—æ³•ç›®æ ‡æ˜¯ä¿è¯ååé‡å’Œå‘¨è½¬æ—¶é—´ï¼ˆä»æäº¤åˆ°ç»ˆæ­¢çš„æ—¶é—´ï¼‰ã€‚ æ—¶é—´ç‰‡è½®è½¬ å°†æ‰€æœ‰å°±ç»ªè¿›ç¨‹æŒ‰ FCFS çš„åŸåˆ™æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡è°ƒåº¦æ—¶ï¼ŒæŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹å¯ä»¥æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ã€‚å½“æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼Œç”±è®¡æ—¶å™¨å‘å‡ºæ—¶é’Ÿä¸­æ–­ï¼Œè°ƒåº¦ç¨‹åºä¾¿åœæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œå¹¶å°†å®ƒé€å¾€å°±ç»ªé˜Ÿåˆ—çš„æœ«å°¾ï¼ŒåŒæ—¶ç»§ç»­æŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–çš„è¿›ç¨‹ã€‚æ—¶é—´ç‰‡è½®è½¬ç®—æ³•çš„æ•ˆç‡å’Œæ—¶é—´ç‰‡çš„å¤§å°æœ‰å¾ˆå¤§å…³ç³»ã€‚ ä¼˜å…ˆåº¦è°ƒåº¦ ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªä¼˜å…ˆçº§ï¼ŒæŒ‰ä¼˜å…ˆçº§è¿›è¡Œè°ƒåº¦ã€‚ä¸ºäº†é˜²æ­¢ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹æ°¸è¿œç­‰ä¸åˆ°è°ƒåº¦ï¼Œå¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»å¢åŠ ç­‰å¾…è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚ å¤šçº§åé¦ˆé˜Ÿåˆ— å¤šçº§é˜Ÿåˆ—æ˜¯ä¸ºè¿™ç§éœ€è¦è¿ç»­æ‰§è¡Œå¤šä¸ªæ—¶é—´ç‰‡çš„è¿›ç¨‹è€ƒè™‘ï¼Œå®ƒè®¾ç½®äº†å¤šä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—æ—¶é—´ç‰‡å¤§å°éƒ½ä¸åŒã€‚è¿›ç¨‹åœ¨ç¬¬ä¸€ä¸ªé˜Ÿåˆ—æ²¡æ‰§è¡Œå®Œï¼Œå°±ä¼šè¢«ç§»åˆ°ä¸‹ä¸€ä¸ªé˜Ÿåˆ—ã€‚ æ¯ä¸ªé˜Ÿåˆ—ä¼˜å…ˆæƒä¹Ÿä¸åŒï¼Œæœ€ä¸Šé¢çš„ä¼˜å…ˆæƒæœ€é«˜ã€‚å› æ­¤åªæœ‰ä¸Šä¸€ä¸ªé˜Ÿåˆ—æ²¡æœ‰è¿›ç¨‹åœ¨æ’é˜Ÿï¼Œæ‰èƒ½è°ƒåº¦å½“å‰é˜Ÿåˆ—ä¸Šçš„è¿›ç¨‹ã€‚ å¯ä»¥çœ‹æˆæ˜¯æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•å’Œä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•çš„ç»“åˆã€‚ å®æ—¶ç³»ç»Ÿå®æ—¶ç³»ç»Ÿè¦æ±‚ä¸€ä¸ªè¯·æ±‚åœ¨ä¸€ä¸ªç¡®å®šæ—¶é—´å†…å¾—åˆ°å“åº”ã€‚åˆ†ä¸ºç¡¬å®æ—¶å’Œè½¯å®æ—¶ï¼Œå‰è€…å¿…é¡»æ»¡è¶³ç»å¯¹çš„æˆªæ­¢æ—¶é—´ï¼Œåè€…å¯ä»¥å®¹å¿ä¸€å®šçš„è¶…æ—¶ã€‚ åŒæ­¥äº’æ–¥ å¯¹ä¸´ç•Œèµ„æºè¿›è¡Œè®¿é—®çš„é‚£æ®µä»£ç ç§°ä¸ºä¸´ç•ŒåŒºã€‚ ç®¡ç¨‹ åŒæ­¥äº’æ–¥è¿›ç¨‹é€šä¿¡ç®¡é“ç®¡é“æ˜¯é€šè¿‡è°ƒç”¨ pipe å‡½æ•°åˆ›å»ºçš„ï¼Œfd[0] ç”¨äºè¯»ï¼Œfd[1] ç”¨äºå†™ã€‚unistd.hint pipe(int fd[2]); åŠåŒå·¥é€šä¿¡ã€‚ åªèƒ½åœ¨çˆ¶å­è¿›ç¨‹å’Œå…„å¼Ÿè¿›ç¨‹ä¸­ä½¿ç”¨ã€‚FIFOå‘½åç®¡é“ï¼Œå»é™¤äº†ç®¡é“åªèƒ½åœ¨çˆ¶å­è¿›ç¨‹ä¸­ä½¿ç”¨çš„é™åˆ¶123#include &lt;sys/stat.h&gt;int mkfifo(const char *path, mode_t mode);int mkfifoat(int fd, const char *path, mode_t mode); FIFO å¸¸ç”¨äºå®¢æˆ·-æœåŠ¡å™¨åº”ç”¨ç¨‹åºä¸­ï¼ŒFIFO ç”¨ä½œæ±‡èšç‚¹ï¼Œåœ¨å®¢æˆ·è¿›ç¨‹å’ŒæœåŠ¡å™¨è¿›ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚ æ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥ç‹¬ç«‹äºè¯»å†™è¿›ç¨‹å­˜åœ¨ï¼Œä»è€Œé¿å…äº† FIFO ä¸­åŒæ­¥ç®¡é“çš„æ‰“å¼€å’Œå…³é—­æ—¶å¯èƒ½äº§ç”Ÿçš„å›°éš¾ã€‚ é¿å…äº† FIFO çš„åŒæ­¥é˜»å¡é—®é¢˜ï¼Œä¸éœ€è¦è¿›ç¨‹è‡ªå·±æä¾›åŒæ­¥æ–¹æ³•ã€‚ è¯»è¿›ç¨‹å¯ä»¥æ ¹æ®æ¶ˆæ¯ç±»å‹æœ‰é€‰æ‹©åœ°æ¥æ”¶æ¶ˆæ¯ï¼Œè€Œä¸åƒ FIFO é‚£æ ·åªèƒ½é»˜è®¤åœ°æ¥æ”¶ã€‚ä¿¡å·é‡å…±äº«å­˜å‚¨å¥—æ¥å­—å…±äº«å­˜å‚¨æ­»é”å¿…è¦æ¡ä»¶ èµ„æºäº’æ–¥ å æœ‰å’Œç­‰å¾… ä¸å¯æŠ¢å  æ­»å¾ªç¯å¤„ç†æ–¹æ³•é¸µé¸Ÿç­–ç•¥æ­»é”æ£€æµ‹ä¸è¯•å›¾é˜»æ­¢æ­»é”ï¼Œè€Œæ˜¯å½“æ£€æµ‹åˆ°æ­»é”å‘ç”Ÿæ—¶ï¼Œé‡‡å–æªæ–½è¿›è¡Œæ¢å¤ã€‚ æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ ä»ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹æ·±åº¦ä¼˜å…ˆéå†ï¼ŒæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨æœ‰å‘ç¯ã€‚ æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ä¸Šå›¾ä¸­ï¼Œæœ‰ä¸‰ä¸ªè¿›ç¨‹å››ä¸ªèµ„æºï¼Œæ¯ä¸ªæ•°æ®ä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹ï¼š E å‘é‡ï¼šèµ„æºæ€»é‡ A å‘é‡ï¼šèµ„æºå‰©ä½™é‡ C çŸ©é˜µï¼šæ¯ä¸ªè¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºæ•°é‡ï¼Œæ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹æ‹¥æœ‰èµ„æºçš„æ•°é‡ R çŸ©é˜µï¼šæ¯ä¸ªè¿›ç¨‹è¯·æ±‚çš„èµ„æºæ•°é‡ é€’å½’ï¼Œç›´åˆ°æ‰€æœ‰è¿›ç¨‹å‡è¢«è®¿é—®ï¼Œè‹¥å­˜åœ¨æœªè¢«è®¿é—®è¿›ç¨‹ï¼Œåˆ™äº§ç”Ÿæ­»é”ã€‚ æ­»é”æ¢å¤ åˆ©ç”¨æŠ¢å æ¢å¤ åˆ©ç”¨å›æ»šæ¢å¤ é€šè¿‡æ€æ­»è¿›ç¨‹æ¢å¤æ­»é”é¢„é˜²ç ´å4ä¸ªå¿…è¦æ¡ä»¶ è¦æ±‚è¿›ç¨‹ä¸€æ¬¡æ€§çš„è¯·æ±‚æ‰€æœ‰éœ€è¦çš„èµ„æºï¼Œå¹¶ä¸”é˜»å¡è¿™ä¸ªè¿›ç¨‹ç›´åˆ°æ‰€æœ‰è¯·æ±‚éƒ½åŒæ—¶æ»¡è¶³ã€‚ è¦æ±‚è¿›ç¨‹ä¸€æ¬¡æ€§çš„è¯·æ±‚æ‰€æœ‰éœ€è¦çš„èµ„æºï¼Œå¹¶ä¸”é˜»å¡è¿™ä¸ªè¿›ç¨‹ç›´åˆ°æ‰€æœ‰è¯·æ±‚éƒ½åŒæ—¶æ»¡è¶³ã€‚ èµ„æºç¼–å·ï¼Œé¡ºåºè¯·æ±‚ã€‚æ­»é”é¿å… è¿›ç¨‹å¯åŠ¨æ‹’ç»ï¼šå¦‚æœä¸€ä¸ªè¿›ç¨‹çš„è¯·æ±‚ä¼šå¯¼è‡´æ­»é”ï¼Œåˆ™ä¸å¯åŠ¨è¯¥è¿›ç¨‹ èµ„æºåˆ†é…æ‹’ç»ï¼šå¦‚æœä¸€ä¸ªè¿›ç¨‹å¢åŠ çš„èµ„æºè¯·æ±‚ä¼šå¯¼è‡´æ­»é”ï¼Œåˆ™ä¸å…è®¸æ­¤åˆ†é… é“¶è¡Œå®¶ç®—æ³• å®‰å…¨çŠ¶æ€ å³ä½¿æ‰€æœ‰è¿›ç¨‹çªç„¶è¯·æ±‚å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚ï¼Œä¹Ÿä»ç„¶å­˜åœ¨æŸç§è°ƒåº¦æ¬¡åºèƒ½å¤Ÿä½¿å¾—æ¯ä¸€ä¸ªè¿›ç¨‹è¿è¡Œå®Œæ¯•ï¼Œåˆ™ç§°è¯¥çŠ¶æ€æ˜¯å®‰å…¨çš„ã€‚é“¶è¡Œå®¶ç®—æ³• å•ä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³• å¤šèµ„æºçš„é“¶è¡Œå®¶ç®—æ³• ä¸Šå›¾ä¸­æœ‰äº”ä¸ªè¿›ç¨‹ï¼Œå››ä¸ªèµ„æºã€‚å·¦è¾¹çš„å›¾è¡¨ç¤ºå·²ç»åˆ†é…çš„èµ„æºï¼Œå³è¾¹çš„å›¾è¡¨ç¤ºè¿˜éœ€è¦åˆ†é…çš„èµ„æºã€‚æœ€å³è¾¹çš„ Eã€P ä»¥åŠ A åˆ†åˆ«è¡¨ç¤ºï¼šæ€»èµ„æºã€å·²åˆ†é…èµ„æºä»¥åŠå¯ç”¨èµ„æºï¼Œæ³¨æ„è¿™ä¸‰ä¸ªä¸ºå‘é‡ï¼Œè€Œä¸æ˜¯å…·ä½“æ•°å€¼ï¼Œä¾‹å¦‚ A=(1020)ï¼Œè¡¨ç¤º 4 ä¸ªèµ„æºåˆ†åˆ«è¿˜å‰©ä¸‹ 1/0/2/0ã€‚ç®—æ³•ï¼šæŒ‰ç…§åˆ†é…çŸ©é˜µè¿›è¡Œåˆ†é…ï¼Œå¯»æ‰¾å°äºç­‰äºå¯ç”¨èµ„æºçš„è¡Œï¼Œå¦‚æœä¸å­˜åœ¨åˆ™çŠ¶æ€ä¸å®‰å…¨ã€‚å­˜åœ¨åˆ™é‡Šæ”¾è¯¥è¡Œç»§ç»­è¿­ä»£ã€‚çŠ¶æ€ä¸å®‰å…¨ã€‚ å†…å­˜ç®¡ç†æ–‡ä»¶ç®¡ç†è®¾å¤‡ç®¡ç†ç£ç›˜ç»“æ„ ç›˜é¢ï¼ˆPlatterï¼‰ï¼šä¸€ä¸ªç£ç›˜æœ‰å¤šä¸ªç›˜é¢ï¼› ç£é“ï¼ˆTrackï¼‰ï¼šç›˜é¢ä¸Šçš„åœ†å½¢å¸¦çŠ¶åŒºåŸŸï¼Œä¸€ä¸ªç›˜é¢å¯ä»¥æœ‰å¤šä¸ªç£é“ï¼› æ‰‡åŒºï¼ˆTrack Sectorï¼‰ï¼šç£é“ä¸Šçš„ä¸€ä¸ªå¼§æ®µï¼Œä¸€ä¸ªç£é“å¯ä»¥æœ‰å¤šä¸ªæ‰‡åŒºï¼Œå®ƒæ˜¯æœ€å°çš„ç‰©ç†å‚¨å­˜å•ä½ï¼Œç›®å‰ä¸»è¦æœ‰ 512 bytes ä¸ 4 K ä¸¤ç§å¤§å°ï¼› ç£å¤´ï¼ˆHeadï¼‰ï¼šä¸ç›˜é¢éå¸¸æ¥è¿‘ï¼Œèƒ½å¤Ÿå°†ç›˜é¢ä¸Šçš„ç£åœºè½¬æ¢ä¸ºç”µä¿¡å·ï¼ˆè¯»ï¼‰ï¼Œæˆ–è€…å°†ç”µä¿¡å·è½¬æ¢ä¸ºç›˜é¢çš„ç£åœºï¼ˆå†™ï¼‰ï¼› åˆ¶åŠ¨æ‰‹è‡‚ï¼ˆActuator armï¼‰ï¼šç”¨äºåœ¨ç£é“ä¹‹é—´ç§»åŠ¨ç£å¤´ï¼› ä¸»è½´ï¼ˆSpindleï¼‰ï¼šä½¿æ•´ä¸ªç›˜é¢è½¬åŠ¨ã€‚ ç£ç›˜è°ƒåº¦ç®—æ³•è¯»å†™ä¸€ä¸ªç£ç›˜å—çš„æ—¶é—´çš„å½±å“å› ç´ æœ‰ï¼š æ—‹è½¬æ—¶é—´ï¼ˆä¸»è½´è½¬åŠ¨ç›˜é¢ï¼Œä½¿å¾—ç£å¤´ç§»åŠ¨åˆ°é€‚å½“çš„æ‰‡åŒºä¸Šï¼‰ å¯»é“æ—¶é—´ï¼ˆåˆ¶åŠ¨æ‰‹è‡‚ç§»åŠ¨ï¼Œä½¿å¾—ç£å¤´ç§»åŠ¨åˆ°é€‚å½“çš„ç£é“ä¸Šï¼‰ å®é™…çš„æ•°æ®ä¼ è¾“æ—¶é—´å…¶ä¸­ï¼Œå¯»é“æ—¶é—´æœ€é•¿ï¼Œå› æ­¤ç£ç›˜è°ƒåº¦çš„ä¸»è¦ç›®æ ‡æ˜¯ä½¿ç£ç›˜çš„å¹³å‡å¯»é“æ—¶é—´æœ€çŸ­ã€‚ FCFS frist come frist served SSTF shortest seek time frist ä¼˜å…ˆè°ƒåº¦ä¸å½“å‰ç£å¤´æ‰€åœ¨ç£é“è·ç¦»æœ€è¿‘çš„ç£é“ã€‚å®¹æ˜“äº§ç”Ÿé¥¥é¥¿ç°è±¡ã€‚è¿œç«¯è¯·æ±‚é•¿æ—¶é—´æ— æ³•å“åº”ã€‚ SCAN ç”µæ¢¯æ€»æ˜¯ä¿æŒä¸€ä¸ªæ–¹å‘è¿è¡Œï¼Œç›´åˆ°è¯¥æ–¹å‘æ²¡æœ‰è¯·æ±‚ä¸ºæ­¢ï¼Œç„¶åæ”¹å˜è¿è¡Œæ–¹å‘ã€‚å•å‘è®¿é—®è·ç¦»æœ€è¿‘çš„ç£é“ã€‚ç›´åˆ°è¯¥æ–¹å‘ä¸Šæ²¡æœ‰æœªå®Œæˆçš„ç£ç›˜è¯·æ±‚ï¼Œç„¶åæ”¹å˜æ–¹å‘ã€‚ CSCAN ä¿æŒæœ€å¤§ç£é“æŒ¨ç€æœ€å°ç£é“å’ŒSCANç›¸ä¼¼ï¼Œä½†æ˜¯åˆ°è¾¾å†…éƒ¨ä¹‹åç«‹å³è°ƒæ•´åˆ°æœ€å¤–å±‚ï¼Œç»§ç»­å¾€å†…ã€‚æˆ–è€…ç›¸åã€‚ ç³»ç»Ÿè°ƒç”¨Linux ç³»ç»Ÿè°ƒç”¨|task|command|| â€”- | â€”-||è¿›ç¨‹æ§åˆ¶|fork();exit();wait()||è¿›ç¨‹é€šä¿¡| pipe(); shmget(); mmap()||æ–‡ä»¶æ“ä½œ| open(); read();write()||è®¾å¤‡æ“ä½œ| ioctl();read();write()||ä¿¡æ¯ç»´æŠ¤| getpid(); alarm(); sleep()||å®‰å…¨| chmod();umask();chown()| å†…æ ¸å¤§å†…æ ¸å¤§å†…æ ¸æ˜¯å°†æ“ä½œç³»ç»ŸåŠŸèƒ½ä½œä¸ºä¸€ä¸ªç´§å¯†ç»“åˆçš„æ•´ä½“æ”¾åˆ°å†…æ ¸ã€‚ç”±äºå„æ¨¡å—å…±äº«ä¿¡æ¯ï¼Œå› æ­¤æœ‰å¾ˆé«˜çš„æ€§èƒ½ã€‚å¾®å†…æ ¸ç”±äºæ“ä½œç³»ç»Ÿä¸æ–­å¤æ‚ï¼Œå› æ­¤å°†ä¸€éƒ¨åˆ†æ“ä½œç³»ç»ŸåŠŸèƒ½ç§»å‡ºå†…æ ¸ï¼Œä»è€Œé™ä½å†…æ ¸çš„å¤æ‚æ€§ã€‚ç§»å‡ºçš„éƒ¨åˆ†æ ¹æ®åˆ†å±‚çš„åŸåˆ™åˆ’åˆ†æˆè‹¥å¹²æœåŠ¡ï¼Œç›¸äº’ç‹¬ç«‹ã€‚ åœ¨å¾®å†…æ ¸ç»“æ„ä¸‹ï¼Œæ“ä½œç³»ç»Ÿè¢«åˆ’åˆ†æˆå°çš„ã€å®šä¹‰è‰¯å¥½çš„æ¨¡å—ï¼Œåªæœ‰å¾®å†…æ ¸è¿™ä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨å†…æ ¸æ€ï¼Œå…¶ä½™æ¨¡å—è¿è¡Œåœ¨ç”¨æˆ·æ€ã€‚å› ä¸ºéœ€è¦é¢‘ç¹åœ°åœ¨ç”¨æˆ·æ€å’Œæ ¸å¿ƒæ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æŸå¤±ã€‚ ä¸­æ–­å¤–ä¸­æ–­ç”± CPU æ‰§è¡ŒæŒ‡ä»¤ä»¥å¤–çš„äº‹ä»¶å¼•èµ·ï¼Œå¦‚ I/O å®Œæˆä¸­æ–­ï¼Œè¡¨ç¤ºè®¾å¤‡è¾“å…¥/è¾“å‡ºå¤„ç†å·²ç»å®Œæˆï¼Œå¤„ç†å™¨èƒ½å¤Ÿå‘é€ä¸‹ä¸€ä¸ªè¾“å…¥/è¾“å‡ºè¯·æ±‚ã€‚æ­¤å¤–è¿˜æœ‰æ—¶é’Ÿä¸­æ–­ã€æ§åˆ¶å°ä¸­æ–­ç­‰ã€‚å¼‚å¸¸ç”± CPU æ‰§è¡ŒæŒ‡ä»¤çš„å†…éƒ¨äº‹ä»¶å¼•èµ·ï¼Œå¦‚éæ³•æ“ä½œç ã€åœ°å€è¶Šç•Œã€ç®—æœ¯æº¢å‡ºç­‰ã€‚é™·å…¥ç”¨æˆ·ç³»ç»Ÿè°ƒç”¨é“¾æ¥è£…è½½ é¢„å¤„ç†é˜¶æ®µï¼šå¤„ç†ä»¥ # å¼€å¤´çš„é¢„å¤„ç†å‘½ä»¤ï¼› ç¼–è¯‘é˜¶æ®µï¼šç¿»è¯‘æˆæ±‡ç¼–æ–‡ä»¶ï¼› æ±‡ç¼–é˜¶æ®µï¼šå°†æ±‡ç¼–æ–‡ä»¶ç¿»è¯‘æˆå¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ï¼› é“¾æ¥é˜¶æ®µï¼šå°†å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶å’Œ printf.o ç­‰å•ç‹¬é¢„ç¼–è¯‘å¥½çš„ç›®æ ‡æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ã€‚é™æ€é“¾æ¥ ç¬¦å·è§£æï¼šæ¯ä¸ªç¬¦å·å¯¹åº”äºä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªå…¨å±€å˜é‡æˆ–ä¸€ä¸ªé™æ€å˜é‡ï¼Œç¬¦å·è§£æçš„ç›®çš„æ˜¯å°†æ¯ä¸ªç¬¦å·å¼•ç”¨ä¸ä¸€ä¸ªç¬¦å·å®šä¹‰å…³è”èµ·æ¥ã€‚ é‡å®šä½ï¼šé“¾æ¥å™¨é€šè¿‡æŠŠæ¯ä¸ªç¬¦å·å®šä¹‰ä¸ä¸€ä¸ªå†…å­˜ä½ç½®å…³è”èµ·æ¥ï¼Œç„¶åä¿®æ”¹æ‰€æœ‰å¯¹è¿™äº›ç¬¦å·çš„å¼•ç”¨ï¼Œä½¿å¾—å®ƒä»¬æŒ‡å‘è¿™ä¸ªå†…å­˜ä½ç½®ã€‚ åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­äº§ç”Ÿä¸€ä»½æ‹·è´ã€‚ç›®æ ‡æ–‡ä»¶ å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ï¼šå¯ä»¥ç›´æ¥åœ¨å†…å­˜ä¸­æ‰§è¡Œï¼› å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ï¼šå¯ä¸å…¶å®ƒå¯é‡å®šä½ç›®æ ‡æ–‡ä»¶åœ¨é“¾æ¥é˜¶æ®µåˆå¹¶ï¼Œåˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ï¼› å…±äº«ç›®æ ‡æ–‡ä»¶ï¼šè¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶è¢«åŠ¨æ€åŠ è½½è¿›å†…å­˜å¹¶é“¾æ¥ï¼› åŠ¨æ€é“¾æ¥åœ¨å†…å­˜ä¸­ä¸€èˆ¬åªä¿ç•™è¯¥ç¼–è¯‘å•å…ƒçš„ä¸€ä»½æ‹·è´ã€‚ è£…è½½æ—¶åŠ¨æ€é“¾æ¥(Load-time Dynamic Linking)ï¼šè¿™ç§ç”¨æ³•çš„å‰ææ˜¯åœ¨ç¼–è¯‘ä¹‹å‰å·²ç»æ˜ç¡®çŸ¥é“è¦è°ƒç”¨DLLä¸­çš„å“ªå‡ ä¸ªå‡½æ•°ï¼Œç¼–è¯‘æ—¶åœ¨ç›®æ ‡æ–‡ä»¶ä¸­åªä¿ç•™å¿…è¦çš„é“¾æ¥ä¿¡æ¯ï¼Œè€Œä¸å«DLLå‡½æ•°çš„ä»£ç ï¼›å½“ç¨‹åºæ‰§è¡Œæ—¶ï¼Œè°ƒç”¨å‡½æ•°çš„æ—¶å€™åˆ©ç”¨é“¾æ¥ä¿¡æ¯åŠ è½½DLLå‡½æ•°ä»£ç å¹¶åœ¨å†…å­˜ä¸­å°†å…¶é“¾æ¥å…¥è°ƒç”¨ç¨‹åºçš„æ‰§è¡Œç©ºé—´ä¸­(å…¨éƒ¨å‡½æ•°åŠ è½½è¿›å†…å­˜ï¼‰ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯ä¾¿äºä»£ç å…±äº«ã€‚ï¼ˆåŠ¨æ€åŠ è½½ç¨‹åºï¼Œå¤„åœ¨åŠ è½½é˜¶æ®µï¼Œä¸»è¦ä¸ºäº†å…±äº«ä»£ç ï¼Œå…±äº«ä»£ç å†…å­˜ï¼‰ è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥(Run-time Dynamic Linking)ï¼šè¿™ç§æ–¹å¼æ˜¯æŒ‡åœ¨ç¼–è¯‘ä¹‹å‰å¹¶ä¸çŸ¥é“å°†ä¼šè°ƒç”¨å“ªäº›DLLå‡½æ•°ï¼Œå®Œå…¨æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ ¹æ®éœ€è¦å†³å®šåº”è°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œå°†å…¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼ˆåªåŠ è½½è°ƒç”¨çš„å‡½æ•°è¿›å†…å­˜ï¼‰ï¼Œå¹¶æ ‡è¯†å†…å­˜åœ°å€ï¼Œå…¶ä»–ç¨‹åºä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥ç¨‹åºï¼Œå¹¶ç”¨LoadLibraryå’ŒGetProcAddressåŠ¨æ€è·å¾—DLLå‡½æ•°çš„å…¥å£åœ°å€ã€‚ï¼ˆdllåœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä»½ï¼Œå¤„åœ¨è¿è¡Œé˜¶æ®µï¼‰]]></content>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sql]]></title>
    <url>%2Funcategorized%2Fsql%2F</url>
    <content type="text"><![CDATA[SELECT col,col,col æ‰¾ä»€ä¹ˆï¼ŸFROM table ä»å“ªæ‰¾ï¼ŸWHERE col æ¡ä»¶ æ¡ä»¶æ˜¯å•¥ï¼Ÿ æ¡ä»¶ï¼šæ•°å­—(where)å½“æŸ¥æ‰¾æ¡ä»¶colæ˜¯æ•°å­— select * from table where col = 1; Operator Condition SQL Example è§£é‡Š , !=, &lt; &lt;=, &gt;, &gt;= Standard numerical operators col != 4 ç­‰äº å¤§äº å°äº BETWEEN â€¦ AND â€¦ Number is within range of two values (inclusive) col BETWEEN 1.5 AND 10.5 åœ¨ X å’Œ Xä¹‹é—´ NOT BETWEEN â€¦ AND â€¦ Number is not within range of two values (inclusive) co NOT BETWEEN 1 AND10 ä¸åœ¨ X å’Œ Xä¹‹é—´ IN (â€¦) Number exists in a list col IN (2, 4, 6) åœ¨ X é›†åˆ NOT IN (â€¦) Number does not exist in a list col NOT IN (1, 3, 5) ä¸åœ¨ X é›†åˆ ## æ¡ä»¶ï¼šæ–‡æœ¬(where) å½“æŸ¥æ‰¾æ¡ä»¶colæ˜¯æ–‡æœ¬ select * from table where col like â€˜%jinâ€™; Operator Condition SQL Example è§£é‡Š = Case sensitive exact string comparison (notice the single equals) col = â€œabcâ€ ç­‰äº != or &lt;&gt; Case sensitive exact string inequality comparison col != â€œabcdâ€ ä¸ç­‰äº LIKE Case insensitive exact string comparison col LIKE â€œABCâ€ ç­‰äº NOT LIKE Case insensitive exact string inequality comparison col NOT LIKE â€œABCDâ€ ä¸ç­‰äº % Used anywhere in a string to match a sequence of zero or more characters (only with LIKE or NOT LIKE) col LIKE â€œ%AT%â€ (matches â€œATâ€, â€œATTICâ€, â€œCATâ€ or even â€œBATSâ€) æ¨¡ç³ŠåŒ¹é… _ Used anywhere in a string to match a single character (only with LIKE or NOT LIKE) col LIKE â€œAN_â€ (matches â€œANDâ€, but not â€œANâ€) æ¨¡ç³ŠåŒ¹é…å•å­—ç¬¦ IN (â€¦) String exists in a list col IN (â€œAâ€, â€œBâ€, â€œCâ€) åœ¨é›†åˆ NOT IN (â€¦) String does not exist in a list co NOT IN (â€œDâ€, â€œEâ€, â€œFâ€) ä¸åœ¨é›†åˆ ## æ’åº(rows) éœ€è¦å¯¹ç»“æœrowsæ’åºå’Œç­›é€‰éƒ¨åˆ†rows select * from table where col &gt; 1 order by col asc limit 2 offset 2 Operator Condition SQL Example è§£é‡Š ORDER BY . ORDER BY col ASC/DESC æŒ‰colæ’åº ASC . ORDER BY col ASC/DESC å‡åº DESC . ORDER BY col ASC/DESC é™åº LIMIT OFFSET . LIMIT num_limit OFFSET ORDER BY . ORDER BY col1 ASC,col2 DESC å¤šåˆ—æ’åº ## join:è¿è¡¨(table) å½“æŸ¥æ‰¾çš„æ•°æ®åœ¨å¤šå¼ å…³è”tableé‡Œ select * from table1 left join table2 on table1.id = table2.id where col &gt; 1 Operator Condition SQL Example è§£é‡Š JOIN .. ON .. . t1 JOIN t2 ON t1.id = t2.id æŒ‰IDè¿æˆ1ä¸ªè¡¨ INNER JOIN . t1 INNER JOIN t2 ON t1.id = t2.id åªä¿ç•™idç›¸ç­‰çš„row LEFT JOIN . t1 LEFT JOIN t2 ON t1.id = t2.id ä¿ç•™t1çš„æ‰€æœ‰row RIGHT JOIN . t1 RIGHT JOIN t2 ON t1.id = t2.id ä¿ç•™t2çš„æ‰€æœ‰row IS/IS NOT NULL . col IS/IS NOT NULL colæ˜¯ä¸æ˜¯ä¸ºnull ## ç®—å¼(select / where) å½“éœ€è¦å¯¹selectçš„col æˆ– whereæ¡ä»¶çš„col ç»è¿‡ä¸€å®šè®¡ç®—åæ‰èƒ½ä½¿ç”¨ select ,col2 from table where col/2 &gt; 1 Operator Condition SQL Example è§£é‡Š + - * / % . col1 + col2 colåŠ å‡ä¹˜é™¤ substr . substr(col,0,4) å­—ç¬¦ä¸²æˆªå– AS . col * 2 AS col_new colå–åˆ«å ## ç»Ÿè®¡ï¼ˆselectï¼‰ å¯¹æŸ¥æ‰¾çš„rowséœ€è¦æŒ‰colåˆ†ç»„ç»Ÿè®¡çš„æƒ…å†µ select count(*),avg(col),col from table where col &gt; 1 group by col Operator Condition SQL Example è§£é‡Š COUNT(*), COUNT(column) A common function used to counts the number of rows in the group if no column name is specified. Otherwise, count the number of rows in the group with non-NULL values in the specified column. count(col) è®¡æ•° MIN(column) Finds the smallest numerical value in the specified column for all rows in the group. min(col) æœ€å° MAX(column) Finds the largest numerical value in the specified column for all rows in the group. max(col) æœ€å¤§ AVG(column) Finds the average numerical value in the specified column for all rows in the group. avg(col) å¹³å‡ SUM(column) Finds the sum of all numerical values in the specified column for the rows in the group. sum(col) æ±‚å’Œ GROUP BY . group by col,col2 åˆ†ç»„ HAVING . HAVING col&gt;100 åˆ†ç»„åæ¡ä»¶ å­è¡¨ (table)ä¸€æ¬¡selectçš„ç»“æœrowsä½œä¸ºä¸‹ä¸€æ¬¡selectçš„ä¸´æ—¶tableæ‰èƒ½å¾—åˆ°æœ€ç»ˆç»“æœ select * from (select * from table where col &gt; 1) as tmp where col &lt; 1 Operator Condition SQL Example è§£é‡Š ï¼ˆselect -ï¼‰as tmp ï¼ˆselect -ï¼‰as tmp selectç»“æœåšå­è¡¨ inï¼ˆselect -ï¼‰ inï¼ˆselect -ï¼‰ selectç»“æœåšæ¡ä»¶ avgï¼ˆselect -ï¼‰ avgï¼ˆselect -ï¼‰ selectç»“æœåšæ¡ä»¶]]></content>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[c++2.0]]></title>
    <url>%2Funcategorized%2FCpp11%2F</url>
    <content type="text"><![CDATA[auto autoä¸èƒ½ç”¨æ¥å£°æ˜å‡½æ•°çš„è¿”å›å€¼ã€‚ä½†æ˜¯å¦‚æœå‡½æ•°æœ‰ä¸€ä¸ªå°¾éšçš„è¿”å›ç±»å‹ï¼Œautoæ˜¯å¯ä»¥å£°æ˜è¿”å›å€¼ã€‚1234template&lt;class T1, class T2&gt;auto test(T1 t1,T2 t2) -&gt; **decltype**(t1 + t2)&#123; return t1+t2;&#125; std::array arrayå¯¹è±¡çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä½¿ç”¨äº†é™æ€å­˜å‚¨åŒºï¼Œå³å­˜å‚¨åœ¨æ ˆä¸Šï¼Œæ•ˆç‡è·Ÿæ•°ç»„ç›¸åŒï¼Œä½†æ˜¯æ›´åŠ çš„å®‰å…¨ã€‚ nullptr nullptr-&gt;void* nullptræ˜¯std::nullptr_tã€‚å­˜åœ¨å’Œä»»ä½•æŒ‡é’ˆç±»å‹ä»¥åŠç±»æˆå‘˜æŒ‡é’ˆç±»å‹çš„ç©ºå€¼ï¼Œboolç±»å‹çš„éšå¼è½¬æ¢ã€‚ ä¸å­˜åœ¨æ•´å‹çš„éšå¼è½¬æ¢ã€‚12345678910f(int *p)&#123;&#125;f1(bool o)&#123;&#125;f2(std::share_ptr&lt;int&gt; p)&#123;&#125; int p1 = NULL;int p2 = nullptr;if(p1==p2);f(p2);f1(p2);f2(p2);int i = nullptr; //false åŸºäºèŒƒå›´çš„forå¾ªç¯12345678910111213for ( val declare : collection ) statementfor(int e : arr)&#123; e = e*e; std::cout&lt;&lt;e&lt;&lt;std::endl;&#125;template&lt;class InputIterator, class Function&gt; Function for_each( InputIterator _First, InputIterator _Last, Function _Func ); override final override:è¡¨ç¤ºå‡½æ•°åº”å½“é‡å†™åŸºç±»ä¸­çš„è™šå‡½æ•°ã€‚ï¼ˆçº¯è™šå‡½æ•°ï¼ŒæŠ½è±¡ç±»ï¼‰ final:è¡¨ç¤ºæ´¾ç”Ÿç±»ä¸åº”å½“é‡å†™è¿™ä¸ªè™šå‡½æ•°ã€‚123456789101112131415161718class A&#123; public: virtual void func(int i)&#123; cout&lt;&lt;"A::f"&lt;&lt;endl; &#125;&#125;;class B : public A&#123; public: virtual void func(long l) final &#123; cout&lt;&lt;"B::f"&lt;&lt;endl; &#125;&#125;;class C : public A&#123; public: virtual void func(int i) override &#123; cout&lt;&lt;"B::f"&lt;&lt;endl; &#125;&#125;; å¼ºç±»å‹æšä¸¾ ä¼ ç»Ÿenumä¼šå°†å¸¸é‡æš´éœ²åœ¨å¤–å±‚ä½œç”¨åŸŸã€‚å­˜åœ¨éšå¼æ•´å‹è½¬å‹ã€‚ å¼ºç±»å‹æšä¸¾ç”±å…³é”®å­—enum classæ ‡è¯†ï¼Œä¸å­˜åœ¨éšå¼è½¬æ•´å‹ã€‚12enum class a&#123;one,two,all&#125;;a ob = a::one; variadic templates å¯å˜å‚æ•°åˆ—è¡¨, ç±»å‹å’Œä¸ªæ•°ä»»æ„1234567891011template &lt;class T, class... Args&gt;void print(const T &amp;first, const Args &amp;... args)&#123; cout&lt;&lt;first&lt;&lt;endl; print(args...);&#125;void print()&#123;&#125;template&lt; class...T&gt;void print(const Args &amp;... args)&#123; /**/&#125; æ™ºèƒ½æŒ‡é’ˆ pointer-like classess#include&lt;memoray&gt; æ™ºèƒ½æŒ‡é’ˆæ„é€ å‡½æ•°æ˜¯explicit,æ‹’ç»å†…ç½®æŒ‡é’ˆéšå¼è½¬æ¢ä¸ºæ™ºèƒ½æŒ‡é’ˆã€‚ shared_ptr&lt;T&gt; å¯ä»¥æŒ‡å‘åŒä¸€åœ°å€ç©ºé—´ï¼Œé€šè¿‡countè®¡æ•°ï¼Œé˜²æ­¢æˆä¸ºç©ºæ‚¬æŒ‡é’ˆã€‚ unique_ptr&lt;T&gt; ç‹¬å å†…å­˜ç©ºé—´ã€‚ ä¸è¦ä½¿ç”¨get()åˆå§‹åŒ–æŒ‡é’ˆï¼Œä¼šäº§ç”Ÿæœªå®šä¹‰è¡Œä¸ºã€‚ å¸¸ç”¨å…±æœ‰å‡½æ•°åˆ—è¡¨ p.get() è¿”å›å†…ç½®æŒ‡é’ˆã€‚ swap(a,b) a.swap() äº¤æ¢æŒ‡é’ˆ shared_ptr&lt;T&gt; p ç‹¬æœ‰å‡½æ•° make_shared&lt;T&gt;(arg) è¿”å›ä¸€ä¸ªæŒ‡é’ˆ æŒ‡å‘ç”¨argåˆå§‹åŒ–çš„å¯¹è±¡ã€‚ shared_ptr&lt;T&gt; p(q) æ‹·è´æ„é€ å‡½æ•°èµ‹å€¼ã€‚ p.unique()-&gt;bool p.use_count()-&gt;int 123456shared_ptr&lt;double&gt;pd;double *p_reg = new double;pd = p_reg;//é”™è¯¯ï¼Œä¸å…è®¸éšå¼è½¬æ¢pd = shared_ptr&lt;double&gt;(p_reg);//æ­£ç¡®shared_ptr&lt;double&gt; pshared = p_reg;//é”™è¯¯ï¼Œä¸å…è®¸éšå¼è½¬æ¢shared_ptr&lt;double&gt; pshared(p_reg);//æ­£ç¡® ä¸èƒ½å°†smart point åº”ç”¨éå †å†…å­˜. auto_ptr&lt;T&gt; p(new T); æ—§ç‰ˆæœ¬çš„auto_ptrï¼Œå°½é‡ç”¨æ–°æ™ºèƒ½æŒ‡é’ˆæ›¿ä»£ã€‚unique_ptr&lt;T&gt; p(new T); unique_ptr&lt;T&gt; æ‹’ç»æ‹·è´å’Œèµ‹å€¼ã€‚ä½†å¯ä»¥é€šè¿‡u.reset() .u.release()é—´æ¥æ‹·è´å’Œèµ‹å€¼ã€‚ release()-&gt;pointer u.reset(m) æä¾›å¯é€‰æŒ‡é’ˆå‚æ•°åˆ—è¡¨ï¼Œu = m 12345678910template &lt; class T&gt;class shared_ptr&#123; private: T *p; public: shared_ptr(T *pm):p(pm)&#123;&#125; T&amp; operator*() const&#123;return *p;&#125; T* operator-&gt;() const&#123;return p;&#125;&#125;;//-&gt;è¿ç®—ç¬¦ä½œç”¨ä¹‹åå¾—åˆ°çš„è¾“å‡ºç»§ç»­ç”¨-&gt;ä½œç”¨ã€‚ è¿­ä»£å™¨ pointer-like classes12345678910111213141516171819template&lt; class T&gt;struct __list_node&#123; void *prev; void *next; T data;&#125;;template&lt; class T,class Ref, class Ptr&gt;class __list_iterator&#123; typedef __list_iterator&lt;T,Ref,Ptr&gt; self; typedef Ptr pointer; typedef Ref reference; typedef __list_node&lt;T&gt;* link_type; link_type node; bool operator==(const self&amp;x)const&#123; return node == x.node; &#125; reference operator*() const &#123;return (*node).data;&#125; pointer operator-&gt;() const &#123;return &amp;(operator*());&#125;&#125; std::bind å°†å‡½æ•°ã€æˆå‘˜å‡½æ•°å’Œé—­åŒ…è½¬æˆfunctionå‡½æ•°å¯¹è±¡ å°†å¤šå…ƒ(n&gt;1)å‡½æ•°è½¬æˆä¸€å…ƒå‡½æ•°æˆ–è€…(n-1)å…ƒå‡½æ•°ã€‚ 123456789101112template&lt; class F, class... Args &gt;/*unspecified*/ bind( F&amp;&amp; f, Args&amp;&amp;... args );template&lt; class R, class F, class... Args &gt;/*unspecified*/ bind( F&amp;&amp; f, Args&amp;&amp;... args ); auto x1 = bind(f,10,20,10); auto x2 = bind(f,std::placeholders::_1,2,3); auto x3 = bind(f,std::placeholders::_1,23,std::placeholders::_2); auto x4 = bind&lt;double&gt;(f,std::placeholders::_1,std::placeholders::_2,5); cout&lt;&lt;x1()&lt;&lt;endl; cout&lt;&lt;x2(1)&lt;&lt;endl; cout&lt;&lt;x3(20,32)&lt;&lt;endl; cout&lt;&lt;x4(23,12)&lt;&lt;endl; æŸäº›æ— æ³•æ‹·è´çš„å‚æ•°ï¼Œåªèƒ½ä½¿ç”¨å¼•ç”¨ä¼ é€’ï¼Œéœ€è¦ä½¿ç”¨ref 1for_each(words.begin(),words.end,bind(print,ref(os),_1,' ')); bind æ— æ³•ç»‘å®šé‡è½½å‡½æ•°,å› ä¸ºé‡è½½å‡½æ•°å‚æ•°ä¸ªæ•°ä¸åŒã€‚ bind ç»‘å®šæˆå‘˜å‡½æ•°ï¼Œéœ€è¦ç±»çš„å®ä¾‹ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚ bind ç»‘å®šæˆå‘˜å‡½æ•°ï¼Œä¸éœ€è¦ç±»å®ä¾‹ã€‚ 123A a();auto m = bind(&amp;A::f(),a);m(); æœªå®Œå¾…ç»­ â€“â€¦-â€¦.-â€¦- -.-..â€”â€“.â€”- -â€¦â€¦.â€”â€”.- -.-.-â€¦..-â€¦- -.â€”â€”â€¦â€¦. -..â€”â€¦â€¦â€¦ -..â€”â€¦-.-.-. -..â€”.-.â€”.-. â€”â€”â€“â€¦.â€“.. â€”-.â€”â€¦â€¦. -.-..â€“.-.-.-.- â€”â€”â€“â€¦.â€“.. â€”â€”.-.-.â€”- â€”â€“..-.â€”..- â€“â€¦â€¦â€¦.-. â€”-..-.-.â€”.- -â€¦â€¦â€”-.-.-. -.â€”.â€”â€“â€¦- â€”.-.-â€¦â€”â€“ â€“..-.â€”-..-.- -.â€”â€”â€“.-.â€“ -..â€”..-.-â€¦. â€“â€¦â€¦â€¦.-.]]></content>
      <tags>
        <tag>æœªå®Œå¾…ç»­</tag>
        <tag>c++</tag>
        <tag>c++11</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºæœ¬æ•°æ®ç»“æ„æ•´ç†]]></title>
    <url>%2F%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%2Fdatastructure%2F</url>
    <content type="text"><![CDATA[é¡ºåºç»“æ„é¡ºåºæ ˆ12345678910111213template &lt;class T&gt;class sq_stack&#123;private: T val; int top; int size;public: sq_stack(); ~sq_stack(); T pop(); void insert(T val); int get_size(sq_stack s);&#125; é˜Ÿåˆ—1234567891011121314template&lt;class T&gt;class sq_queue&#123;private: T val; int front; int rear; int maxsize;public: sq_queue(); ~sq_queue(); int get_rear(sq_queue r); int get_front(sq_queue f); void insert(T val);&#125; é¡ºåºè¡¨123456template &lt;class T&gt;class sq_list&#123; vector&lt;T&gt; a; int length; int size;&#125; é“¾å¼ç»“æ„## 12345678910111213template &lt;class T&gt;class link_node&#123;private: T data; link_node *next;public: link_node(T d):data(d),next(nullptr)&#123;&#125; ~link_node();&#125;typedef struct Lnode&#123; elemtype data; struct Lnode *next;&#125;Lnode,*LinkList; å“ˆå¸Œè¡¨ å“ˆå¸Œå‡½æ•°ï¼šH(key): K -&gt; D , key âˆˆ K æ„é€ æ–¹æ³• ç›´æ¥å®šå€æ³• é™¤ç•™ä½™æ•°æ³• æ•°å­—åˆ†ææ³• æŠ˜å æ³• å¹³æ–¹å–ä¸­æ³• å†²çªè§£å†³æ–¹æ³•é“¾åœ°å€æ³•ï¼škeyç›¸åŒç”¨å•é“¾è¡¨é“¾æ¥å¼€æ”¾å®šå€æ³•ï¼š çº¿æ€§æ¢æµ‹æ³•ï¼šæ”¾åˆ°keyçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼ŒHi = (H(key) + i) % m äºŒæ¬¡æ¢æµ‹æ³•ï¼šHi = (H(key) + i) % m éšæœºæ¢æµ‹æ³•ï¼šHi= (H(key) + ä¼ªéšæœºæ•°) % m 123456789101112typedef char KeyType;typedef struct&#123; KeyType key;&#125;RcdType;typedef struct&#123; RcdType *rcd; int size; int count; bool *tag;&#125;HashTable; ğŸŒ²äºŒå‰ğŸŒ²å­˜å‚¨ç»“æ„ é¡ºåºå­˜å‚¨ é“¾å¼å­˜å‚¨éå†æ–¹å¼ å…ˆåº ååº ä¸­åº å±‚æ¬¡å®ç°1234567891011121314template &lt;class T&gt;class binary_node&#123;private: binary_node *left; binary_node *right; T val;public: binary_node(int x):val(x),left(nullptr),right(nullptr)&#123;&#125; ~binary_node(); void in_order(binary_node *root); void pre_order(binary_node *root); void post_order(binary_node *root); void level_order(binary_node *root);&#125; ç±»å‹ æ»¡äºŒå‰ğŸŒ² å®Œå…¨äºŒå‰ğŸŒ²(å †) å¤§æ ¹å † å°æ ¹å † äºŒå‰æŸ¥æ‰¾ğŸŒ²(æ’åºğŸŒ²) å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºæˆ–ç­‰äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ã€‚ å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºæˆ–ç­‰äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ã€‚ å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘ã€‚ æŸ¥æ‰¾çš„æœ€å¤§æ¬¡æ•°ç­‰äºæ•°çš„é«˜åº¦ã€‚ç¼ºç‚¹(å¤šæ¬¡æ’å…¥åå‘ä¸€è¾¹çš„æ•°æ®ï¼Œä¼šå¯¼è‡´ğŸŒ²ä¸¥é‡ä¸å¹³è¡¡) å¹³è¡¡äºŒå‰ğŸŒ²(AVL) å¹³è¡¡å› å­BF å·¦é«˜-å³é«˜ ,æ ¹èŠ‚ç‚¹BF&gt;1 å³æ—‹ é¡ºæ—¶é’ˆ &lt;-1 å·¦æ—‹ æ’å…¥ç»“ç‚¹åï¼Œæœ€å°ä¸å¹³è¡¡å­æ ‘çš„BFä¸å®ƒçš„å­æ ‘çš„BFç¬¦å·ç›¸åæ—¶ï¼Œå°±éœ€è¦å¯¹ç»“ç‚¹å…ˆè¿›è¡Œä¸€æ¬¡æ—‹è½¬ä»¥ä½¿å¾—ç¬¦å·ç›¸åŒåï¼Œå†åå‘æ—‹è½¬ä¸€æ¬¡æ‰èƒ½å¤Ÿå®Œæˆå¹³è¡¡æ“ä½œ æœ€å°å¤±è¡¡ğŸŒ²(å¹³è¡¡äºŒå‰æ ‘æ’å…¥æ–°çš„èŠ‚ç‚¹å¯¼è‡´å¤±è¡¡çš„å­ğŸŒ²):è°ƒæ•´ç­–ç•¥ LL å·¦å­©å­å³æ—‹ RR å³å­©å­å·¦æ—‹ LR å·¦å­©å­å·¦æ—‹ï¼Œå†å³æ—‹ RL å³å­©å­çš„å·¦å­ğŸŒ²å…ˆå³æ—‹ï¼Œåœ¨å·¦æ—‹çº¢é»‘ğŸŒ²è§£å†³äº†äºŒå‰æŸ¥æ‰¾æ ‘çš„ä¸å¹³è¡¡é—®é¢˜ã€‚æœ€å¤§æŸ¥æ‰¾æ¬¡æ•°ä¸ä¼šè¶…è¿‡æœ€çŸ­è·¯å¾„çš„ä¸¤å€ã€‚ èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚ æ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²ã€‚ æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ç©ºèŠ‚ç‚¹ã€‚ æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²ã€‚(ä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹)ã€‚ ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚è‡ªå¹³è¡¡ å˜è‰² æ—‹è½¬ å·¦æ—‹è½¬ é€†æ—¶é’ˆæ—‹è½¬çº¢é»‘æ ‘çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä½¿å¾—çˆ¶èŠ‚ç‚¹è¢«è‡ªå·±çš„å³å­©å­å–ä»£ï¼Œè€Œè‡ªå·±æˆä¸ºè‡ªå·±çš„å·¦å­©å­ã€‚ å³æ—‹è½¬ é¡ºæ—¶é’ˆæ—‹è½¬çº¢é»‘æ ‘çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä½¿å¾—çˆ¶èŠ‚ç‚¹è¢«è‡ªå·±çš„å·¦å­©å­å–ä»£ï¼Œè€Œè‡ªå·±æˆä¸ºè‡ªå·±çš„å³å­©å­ã€‚å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566enum tree_color(RED,BLACK);template &lt;class T&gt;class rb_node&#123;public: tree_color color; T key; rb_node *left; rb_node *right; rb_node *parent; rb_node(T val,rb_color c,rb_node l,rb_node r,rb_node p):key(val),color(c),left(l),right(r),parent(p)&#123;&#125;&#125;;template &lt;class T&gt;class rb_tree&#123; rb_tree(); ~rb_tree(); void pre_order(); void in_order(); void post_order(); rb_node&lt;T&gt;* re_search(T key); //é€’å½’æŸ¥æ‰¾ rb_node&lt;T&gt;* iter_serach(T key); //éé€’å½’ T minkey(); T maxkey(); rb_node&lt;T&gt;* successor(rb_node&lt;T&gt; *x); rb_node&lt;T&gt;* predecessor(rb_node&lt;T&gt; *x); void insert(T key); void remove(T key); void destory(); void print();private: void left_rotate(rb_node&lt;T&gt;* &amp;root,rb_node&lt;T&gt;* &amp;x); void right_rotate(rb_node&lt;T&gt;* &amp;root,rb_node&lt;T&gt;* &amp;x);&#125;## BğŸŒ²* mé˜¶BğŸŒ² 1. æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰m-1ä¸ªå…³é”®å­— 2. æ ¹ç»“ç‚¹æœ€å°‘å¯ä»¥åªæœ‰1ä¸ªå…³é”®å­— 3. æ¯ä¸ªç»“ç‚¹ä¸­çš„å…³é”®å­—éƒ½æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œæ¯ä¸ªå…³é”®å­—çš„å·¦å­æ ‘ä¸­çš„æ‰€æœ‰å…³é”®å­—éƒ½å°äºå®ƒï¼Œè€Œå³å­æ ‘ä¸­çš„æ‰€æœ‰å…³é”®å­—éƒ½å¤§äºå®ƒ 4. æ ¹ç»“ç‚¹åˆ°æ¯ä¸ªå¶å­ç»“ç‚¹é«˜åº¦ç›¸åŒ 5. éæ ¹ç»“ç‚¹è‡³å°‘æœ‰Math.ceil(m/2)-1ä¸ªå…³é”®å­—### å®ç°```c++template &lt;class T&gt;struct B_tree_node &#123; int n; T *key; bool is_leaf; struct B_tree_node *parent; struct B_tree_node **child;&#125;;template &lt;class T&gt;class B_tree&#123;private: B_tree_node&lt;T&gt;* root; int m;public: B_tree(int tVal = 2); ~B_tree(); B_tree_node&lt;T&gt;* search_tree(B_tree_node&lt;T&gt;* root, T k ,int &amp;index); B_tree_node&lt;T&gt;* getRoot(); void insert(B_tree_node&lt;T&gt;* root,B_tree_node&lt;T&gt;* node); void delete(B_tree_node&lt;T&gt;* root,B_tree_node&lt;T&gt;* node); T get_value(B_tree_node&lt;T&gt;* root,T value);&#125;; B+ Mé˜¶B+ğŸŒ² å†…ç»“ç‚¹å­˜æœ‰å…³é”®å­—å’ŒæŒ‡å‘å­©å­ç»“ç‚¹æŒ‡é’ˆã€‚å¤–ç»“ç‚¹å­˜æœ‰å…³é”®å­—å’Œæ•°æ®ã€‚ å¶å­ç»“ç‚¹è¿˜æœ‰å…³é”®å­—ï¼ŒæŒ‰ç…§å…³é”®å­—å¤§å°æ’åºï¼Œå¶å­ç»“ç‚¹ä¸­å­˜åœ¨æŒ‡å‘å…„å¼Ÿç»“ç‚¹çš„æŒ‡é’ˆã€‚ ä¸€é¢—B+ğŸŒ²å­˜åœ¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘æ ¹ç»“ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘å­˜æœ‰æœ€å°å…³é”®å­—çš„ç»“ç‚¹ã€‚ æœ‰næ£µå­æ ‘çš„ç»“ç‚¹ä¸­å«æœ‰nä¸ªå…³é”®å­—ï¼Œæ¯ä¸ªå…³é”®å­—ä¸ä¿å­˜æ•°æ®ï¼Œåªç”¨æ¥ç´¢å¼•ã€‚ 123456789101112template &lt;class T&gt;class bp_node&#123; public: bp_node(); virtual ~bp_node(); private: T data;&#125;;template &lt;class T&gt;class inter_node: public bp_node&#123; public:&#125; å…«å‰æ ‘å›¾æ’åºæŸ¥æ‰¾é€’å½’æŠ˜åŠæŸ¥æ‰¾å½’å¹¶æŸ¥æ‰¾å¿«é€Ÿæ’åºè¿­ä»£æŠ˜åŠæŸ¥æ‰¾å½’å¹¶æŸ¥æ‰¾]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æœªå®Œå¾…ç»­</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>çº¢é»‘æ ‘</tag>
        <tag>Bæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[c++åŸºç¡€æ€»ç»“2]]></title>
    <url>%2F%E8%AF%AD%E8%A8%80%2Finterview_two%2F</url>
    <content type="text"><![CDATA[OOP å¤šæ€ C++å¤šæ€åˆ†ç±»åŠå…¶å®ç° é‡è½½å¤šæ€(Ad-hoc Polymorphism,ç¼–è¯‘æœŸ) å‡½æ•°é‡è½½ï¼Œè¿ç®—ç¬¦é‡è½½ å­ç±»å‹å¤šæ€(Subtype Polymorphism,è¿è¡ŒæœŸ) è™šå‡½æ•° å‚æ•°å¤šæ€æ€§(Parametric PolyMorphism) ç¼–è¯‘æœŸ ç±»æ¨¡æ¿ï¼Œå‡½æ•°æ¨¡æ¿ å¼ºåˆ¶å¤šæ€(Coerion PolyMorphism ç¼–è¯‘æœŸ,è¿è¡ŒæœŸ) ç±»å‹è½¬æ¢ é™æ€å¤šæ€ï¼ˆç¼–è¯‘æœŸé—´ï¼Œæ—©ç»‘å®šï¼‰ å‡½æ•°é‡è½½,æ¨¡æ¿ åŠ¨æ€å¤šæ€ï¼ˆè¿è¡ŒæœŸé—´ï¼Œæ™šç»‘å®šï¼‰ è™šå‡½æ•° tips: æ™®é€šå‡½æ•°ä¸å¯æ˜¯virtual static ä¸å¯ä¸ºvirtual æ„é€ å‡½æ•°ä¸å¯ä¸ºvirtual,å› ä¸ºåœ¨è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œè™šè¡¨æŒ‡é’ˆå¹¶æ²¡æœ‰åœ¨å¯¹è±¡çš„å†…å­˜ç©ºé—´ä¸­ï¼Œå¿…é¡»è¦æ„é€ å‡½æ•°è°ƒç”¨å®Œæˆåæ‰ä¼šå½¢æˆè™šè¡¨æŒ‡é’ˆ virtual ~ä½œç”¨ * è§£å†³based point-&gt; derived object,ç”¨based point åˆ é™¤derived object.è™šå‡½æ•°æŒ‡é’ˆï¼Œè™šå‡½æ•°è¡¨è™šç»§æ‰¿è™šç»§æ‰¿ç”¨äºè§£å†³å¤šç»§æ‰¿æ¡ä»¶ä¸‹çš„è±å½¢ç»§æ‰¿é—®é¢˜æµª(è´¹å­˜å‚¨ç©ºé—´ã€å­˜åœ¨äºŒä¹‰æ€§) * åº•å±‚å®ç°åŸç†ä¸ç¼–è¯‘å™¨ç›¸å…³ï¼Œä¸€èˆ¬é€šè¿‡è™šåŸºç±»æŒ‡é’ˆå’Œè™šåŸºç±»è¡¨å®ç°ï¼Œæ¯ä¸ªè™šç»§æ‰¿çš„å­ç±»éƒ½æœ‰ä¸€ä¸ªè™šåŸºç±»æŒ‡é’ˆ(å ç”¨ä¸€ä¸ªæŒ‡é’ˆçš„å­˜å‚¨ç©ºé—´ï¼Œ4å­—èŠ‚ï¼‰å’Œè™šåŸºç±»è¡¨(ä¸å ç”¨ç±»å¯¹è±¡çš„å­˜å‚¨ç©ºé—´)(éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè™šåŸºç±»ä¾æ—§ä¼šåœ¨å­ç±»é‡Œé¢å­˜åœ¨æ‹·è´ï¼Œåªæ˜¯ä»…ä»…æœ€å¤šå­˜åœ¨ä¸€ä»½è€Œå·²ï¼Œå¹¶ä¸æ˜¯ä¸åœ¨å­ç±»é‡Œé¢äº†);å½“è™šç»§æ‰¿çš„å­ç±»è¢«å½“åšçˆ¶ç±»ç»§æ‰¿æ—¶ï¼Œè™šåŸºç±»æŒ‡é’ˆä¹Ÿä¼šè¢«ç»§æ‰¿ã€‚ * å®é™…ä¸Šï¼Œvbptr æŒ‡çš„æ˜¯è™šåŸºç±»è¡¨æŒ‡é’ˆï¼ˆvirtual base table pointerï¼‰ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªè™šåŸºç±»è¡¨ï¼ˆvirtual tableï¼‰ï¼Œè™šè¡¨ä¸­è®°å½•äº†è™šåŸºç±»ä¸æœ¬ç±»çš„åç§»åœ°å€ï¼›é€šè¿‡åç§»åœ°å€ï¼Œè¿™æ ·å°±æ‰¾åˆ°äº†è™šåŸºç±»æˆå‘˜ï¼Œè€Œè™šç»§æ‰¿ä¹Ÿä¸ç”¨åƒæ™®é€šå¤šç»§æ‰¿é‚£æ ·ç»´æŒç€å…¬å…±åŸºç±»ï¼ˆè™šåŸºç±»ï¼‰çš„ä¸¤ä»½åŒæ ·çš„æ‹·è´ï¼ŒèŠ‚çœäº†å­˜å‚¨ç©ºé—´ã€‚è™šå‡½æ•°å’Œè™šç»§æ‰¿ éƒ½ä½¿ç”¨äº†è™šæŒ‡é’ˆ(å ç”¨ç±»çš„å­˜å‚¨ç©ºé—´)å’Œè™šè¡¨ï¼ˆä¸å ç±»å­˜å‚¨ç©ºé—´ï¼‰ è™šå‡½æ•°è¡¨å­˜å‚¨çš„æ˜¯è™šå‡½æ•°åœ°å€ï¼Œè™šåŸºç±»è¡¨å­˜å‚¨ç›¸å¯¹ç›´æ¥ç»§æ‰¿ç±»çš„ä½åç§»ã€‚ è™šåŸºç±»åœ¨å­ç±»ä¸­å­˜åœ¨ä¸€ä»½æ‹·è´ï¼Œè€Œè™šå‡½æ•°ä¸å ç”¨å­˜å‚¨ç©ºé—´ã€‚ tips: æ¨¡æ¿ç±»å¯ä»¥ä½¿ç”¨è™šå‡½æ•°ã€‚ ä½†ä»»ä½•ç±»çš„æˆå‘˜æ¨¡æ¿å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚ èšåˆç±»ç”¨æˆ·å¯ä»¥ç›´æ¥è®¿é—®å…¶æˆå‘˜ï¼Œå¹¶ä¸”å…·æœ‰ç‰¹æ®Šçš„åˆå§‹åŒ–è¯­æ³•å½¢å¼ã€‚æ»¡è¶³å¦‚ä¸‹ç‰¹ç‚¹ï¼š æ‰€æœ‰æˆå‘˜éƒ½æ˜¯ public æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•° æ²¡æœ‰ç±»å†…åˆå§‹åŒ– æ²¡æœ‰åŸºç±»ï¼Œä¹Ÿæ²¡æœ‰ virtual å‡½æ•° å†…å­˜åˆ†é…ç®¡ç† malloc ç”³è¯·æŒ‡å®šå­—èŠ‚å†…å­˜ï¼Œåˆå§‹å€¼ä¸ç¡®å®šã€‚ char *str = (char*) malloc(100); calloc ä¸ºæŒ‡å®šé•¿åº¦çš„å¯¹è±¡ï¼Œåˆ†é…èƒ½å®¹çº³å…¶æŒ‡å®šä¸ªæ•°çš„å†…å­˜ã€‚ç”³è¯·åˆ°çš„å†…å­˜çš„æ¯ä¸€ä½ï¼ˆbitï¼‰éƒ½åˆå§‹åŒ–ä¸º 0ã€‚ realloc æ›´æ”¹ä»¥å‰åˆ†é…çš„å†…å­˜é•¿åº¦ï¼ˆå¢åŠ æˆ–å‡å°‘ï¼‰ã€‚å½“å¢åŠ é•¿åº¦æ—¶ï¼Œå¯èƒ½éœ€å°†ä»¥å‰åˆ†é…åŒºçš„å†…å®¹ç§»åˆ°å¦ä¸€ä¸ªè¶³å¤Ÿå¤§çš„åŒºåŸŸï¼Œè€Œæ–°å¢åŒºåŸŸå†…çš„åˆå§‹å€¼åˆ™ä¸ç¡®å®šã€‚ alloca åœ¨æ ˆä¸Šç”³è¯·å†…å­˜ã€‚ç¨‹åºåœ¨å‡ºæ ˆçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œalloca ä¸å…·å¯ç§»æ¤æ€§, è€Œä¸”åœ¨æ²¡æœ‰ä¼ ç»Ÿå †æ ˆçš„æœºå™¨ä¸Šå¾ˆéš¾å®ç°ã€‚alloca ä¸å®œä½¿ç”¨åœ¨å¿…é¡»å¹¿æ³›ç§»æ¤çš„ç¨‹åºä¸­ã€‚C99 ä¸­æ”¯æŒå˜é•¿æ•°ç»„ (VLA)ï¼Œå¯ä»¥ç”¨æ¥æ›¿ä»£ allocaã€‚ new/new[]å…ˆåº•å±‚è°ƒç”¨mallocï¼Œç„¶åè°ƒç”¨æ„é€ å‡½æ•°ã€‚ delete/delete[]å…ˆè°ƒç”¨ææ„å‡½æ•°ï¼Œç„¶åfreeï¼ŒæŒ‡é’ˆç½®ä¸ºç©ºã€‚ newèƒ½è‡ªåŠ¨è®¡ç®—æ‰€éœ€å­—èŠ‚æ•°ï¼Œæ— éœ€åƒmallocä¸€æ ·æ‰‹åŠ¨æ“ä½œã€‚ pacement newå…è®¸ä¼ é€’é¢å¤–çš„åœ°å€å‚æ•°ï¼Œé¢„å…ˆåœ¨æŒ‡å®šçš„å†…å­˜åŒºåŸŸåˆ›å»ºå¯¹è±¡ã€‚ 123456new (place_address) typenew (place_address) type (initializers)new (place_address) type [size]new (place_address) type [size] &#123; braced initializer list&#125;//place_address ä¸º point//initializerså¯èƒ½ä¸ºç©ºçš„åˆå§‹åŒ–åˆ—è¡¨ tips: delete this åˆæ³•å‰æ ä¹‹åä¸å†è°ƒç”¨thisæŒ‡é’ˆ(ä»»ä½•è°ƒç”¨) thiså¯¹è±¡ç”±newè€Œä¸æ˜¯å…¶ä»–ä»»ä½•æ–¹å¼åˆ†é…çš„ã€‚ è¯¥æˆå‘˜å‡½æ•°æ˜¯thiså¯¹è±¡æœ€åè°ƒç”¨çš„çš„æˆå‘˜å‡½æ•°ã€‚ å‰©ä¸‹çš„æˆå‘˜å‡½æ•°ï¼ˆdelete thisä¹‹åçš„)ä¸æ¥è§¦åˆ°thiså¯¹è±¡,åŒ…æ‹¬è°ƒç”¨ä»»ä½•å…¶ä»–æˆå‘˜å‡½æ•°æˆ–è®¿é—®ä»»ä½•æ•°æ®æˆå‘˜ã€‚ åªåœ¨å †ä¸Šç”Ÿæˆå¯¹è±¡çš„ç±»æ–¹æ³•ï¼šå°†è™šæ„å‡½æ•°ç§æœ‰ã€‚ (C++ æ˜¯é™æ€ç»‘å®šè¯­è¨€ï¼Œç¼–è¯‘å™¨ç®¡ç†æ ˆä¸Šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç¼–è¯‘å™¨åœ¨ä¸ºç±»å¯¹è±¡åˆ†é…æ ˆç©ºé—´æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥ç±»çš„ææ„å‡½æ•°çš„è®¿é—®æ€§ã€‚è‹¥ææ„å‡½æ•°ä¸å¯è®¿é—®ï¼Œåˆ™ä¸èƒ½åœ¨æ ˆä¸Šåˆ›å»ºå¯¹è±¡ã€‚) åªåœ¨æ ˆä¸Šç”Ÿæˆå¯¹è±¡çš„ç±»æ–¹æ³•ï¼šå°†newå’Œdeleteæ“ä½œç¬¦é‡è½½ä¸ºç§æœ‰ã€‚ ï¼šC++ æ˜¯é™æ€ç»‘å®šè¯­è¨€ï¼Œç¼–è¯‘å™¨ç®¡ç†æ ˆä¸Šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç¼–è¯‘å™¨åœ¨ä¸ºç±»å¯¹è±¡åˆ†é…æ ˆç©ºé—´æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥ç±»çš„ææ„å‡½æ•°çš„è®¿é—®æ€§ã€‚è‹¥ææ„å‡½æ•°ä¸å¯è®¿é—®ï¼Œåˆ™ä¸èƒ½åœ¨æ ˆä¸Šåˆ›å»ºå¯¹è±¡ã€‚]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[c++åŸºç¡€æ€»ç»“1]]></title>
    <url>%2F%E8%AF%AD%E8%A8%80%2Finterview_one%2F</url>
    <content type="text"><![CDATA[const(ä¸å¯å˜)ä½œç”¨1. ä¿®é¥°å¸¸é‡ 2. ä¿®é¥°æŒ‡é’ˆ æŒ‡é’ˆå¸¸é‡å’Œå¸¸é‡æŒ‡é’ˆ 3. å¸¸é‡å¼•ç”¨ é¿å…æ‹·è´ï¼Œé¿å…å¯¹å€¼çš„ä¿®æ”¹ï¼Œä¸èƒ½ä½¿ç”¨éconstå¼•ç”¨æŒ‡å‘constå¯¹è±¡ã€‚ 4. ä¿®é¥°æˆå‘˜å‡½æ•° å‡½æ•°å†…éƒ¨ä¸èƒ½ä¿®æ”¹æˆå‘˜å‡½æ•°ä½¿ç”¨123456789101112131415161718192021const int a1;int get() const;const char* p1 = a2;//å¸¸é‡æŒ‡é’ˆï¼ŒæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼Œä¿æŠ¤æŒ‡å‘çš„åœ°å€ç©ºé—´æ•°æ®ä¸å¯å˜ã€‚æŒ‡é’ˆå¯å˜ï¼Œå¯ä»¥ä¿®æ”¹constæŒ‡é’ˆæ‰€æŒ‡å‘çš„å€¼çš„ï¼Œä½†æ˜¯ä¸èƒ½é€šè¿‡constå¯¹è±¡æŒ‡é’ˆæ¥è¿›è¡Œï¼Œè‡ªä»¥ä¸ºæŒ‡å‘constçš„æŒ‡é’ˆã€‚char* p = a2;*p = a3;char* const p2 = a3;//æŒ‡é’ˆå¸¸é‡ï¼Œ ä¿æŠ¤æŒ‡é’ˆï¼ŒæŒ‡é’ˆè‡ªèº«çš„åœ°å€ç©ºé—´ä¸å¯å˜ï¼Œæ•°æ®å¯å˜ã€‚//ä¸èƒ½æŠŠå¸¸é‡çš„åœ°å€èµ‹ç»™æŒ‡é’ˆå˜é‡void get(const int val);void get(const int *val);void get(int *const val);//file1.cppint cout;const int cout2;extern const int cout3;//file2.cppextern int cout; //åœ¨å…¨å±€ä½œç”¨åŸŸé‡Œå®šä¹‰éconstå˜é‡æ—¶ï¼Œå®ƒåœ¨æ•´ä¸ªç¨‹åºä¸­éƒ½å¯ä»¥è®¿é—®cout++;cout2; //erroré™¤éç‰¹åˆ«è¯´æ˜ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸå£°æ˜çš„constå˜é‡æ˜¯å®šä¹‰è¯¥å¯¹è±¡çš„æ–‡ä»¶çš„å±€éƒ¨å˜é‡ï¼Œåªå­˜åœ¨äºé‚£ä¸ªæ–‡ä»¶ï¼Œä¸èƒ½è¢«å…¶ä»–æ–‡ä»¶è®¿é—®ã€‚extern const int cout3;cout3++; static()ä½œç”¨1. ä¿®é¥°æ™®é€šå˜é‡ï¼Œä¿®æ”¹å˜é‡çš„å­˜å‚¨åŒºåŸŸå’Œç”Ÿå‘½å‘¨æœŸï¼Œä½¿å˜é‡å­˜å‚¨åœ¨é™æ€åŒºï¼Œåœ¨ main å‡½æ•°è¿è¡Œå‰åˆ†é…ç©ºé—´ï¼Œå¦‚æœæœ‰åˆå§‹å€¼å°±ç”¨åˆå§‹å€¼åˆå§‹åŒ–ï¼Œå¦‚æœæ²¡æœ‰åˆå§‹å€¼ç³»ç»Ÿç”¨é»˜è®¤å€¼åˆå§‹åŒ–ã€‚ 2. ä¿®é¥°æ™®é€šå‡½æ•°ï¼Œè¯¥å‡½æ•°ä»…åœ¨å®šä¹‰è¯¥å‡½æ•°çš„æ–‡ä»¶å†…æ‰èƒ½ä½¿ç”¨ã€‚ 3. ä¿®é¥°æˆå‘˜å˜é‡ï¼Œä¿®é¥°æˆå‘˜å˜é‡ä½¿æ‰€æœ‰çš„å¯¹è±¡åªä¿å­˜ä¸€ä¸ªè¯¥å˜é‡ï¼Œè€Œä¸”ä¸éœ€è¦ç”Ÿæˆå¯¹è±¡å°±å¯ä»¥è®¿é—®è¯¥æˆå‘˜ã€‚ 4. ä¿®é¥°æˆå‘˜å‡½æ•°ï¼Œä¿®é¥°æˆå‘˜å‡½æ•°ä½¿å¾—ä¸éœ€è¦ç”Ÿæˆå¯¹è±¡å°±å¯ä»¥è®¿é—®è¯¥å‡½æ•°ï¼Œä½¿ç”¨ç±»åä½œç”¨åŸŸç¬¦å·è®¿é—®ï¼Œä½†æ˜¯åœ¨ static å‡½æ•°å†…ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜ã€‚thisæŒ‡é’ˆ1. æŒ‡å‘éé™æ€æˆå‘˜çš„ç‰¹æ®ŠæŒ‡é’ˆã€‚ 2. å½“å¯¹ä¸€ä¸ªå¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œç¼–è¯‘ç¨‹åºå…ˆå°†å¯¹è±¡çš„åœ°å€èµ‹ç»™ this æŒ‡é’ˆï¼Œç„¶åè°ƒç”¨æˆå‘˜å‡½æ•°ï¼Œæ¯æ¬¡æˆå‘˜å‡½æ•°å­˜å–æ•°æ®æˆå‘˜æ—¶ï¼Œéƒ½éšå¼ä½¿ç”¨ this æŒ‡é’ˆã€‚ 3. this æŒ‡é’ˆè¢«éšå«åœ°å£°æ˜ä¸º: ClassName *const thisï¼Œè¿™æ„å‘³ç€ä¸èƒ½ç»™ this æŒ‡é’ˆèµ‹å€¼ã€‚åœ¨ ClassName ç±»çš„ const æˆå‘˜å‡½æ•°ä¸­ï¼Œthis æŒ‡é’ˆçš„ç±»å‹ä¸ºï¼šconst ClassName* constï¼Œè¿™è¯´æ˜ä¸èƒ½å¯¹ this æŒ‡é’ˆæ‰€æŒ‡å‘çš„è¿™ç§å¯¹è±¡æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼ˆå³ä¸èƒ½å¯¹è¿™ç§å¯¹è±¡çš„æ•°æ®æˆå‘˜è¿›è¡Œèµ‹å€¼æ“ä½œï¼‰ã€‚ 4. this åªæ˜¯ä¸€ä¸ªå³å€¼ï¼Œä¸èƒ½ä½¿ç”¨&amp;this 5. åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ï¼Œç»å¸¸éœ€è¦æ˜¾å¼å¼•ç”¨ this æŒ‡é’ˆï¼š 1. ä¸ºå®ç°å¯¹è±¡çš„é“¾å¼å¼•ç”¨ã€‚ 2. ä¸ºé¿å…å¯¹åŒä¸€å¯¹è±¡è¿›è¡Œèµ‹å€¼æ“ä½œã€‚ 3. åœ¨å®ç°ä¸€äº›æ•°æ®ç»“æ„æ—¶ï¼Œå¦‚ listã€‚inlineç‰¹å¾1. ç›¸å½“äºç›´æ¥æ‰§è¡Œå‡½æ•°ä½“ã€‚ 2. ç›¸å½“äºå®æ“ä½œï¼Œä½†æ˜¯å¤šäº†ç±»å‹æ£€æŸ¥ã€‚ 3. ç¼–è¯‘å™¨ä¸€èˆ¬ä¸å†…æ•›åŒ…å«å¾ªç¯ï¼Œé€’å½’ï¼Œswitchç­‰å¤æ‚æ“ä½œçš„inlineå‡½æ•°ã€‚ 4. åœ¨ç±»å£°æ˜ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œé™¤äº†è™šå‡½æ•°çš„å…¶ä»–å‡½æ•°ä¼šè‡ªåŠ¨éšå¼åœ°å½“æˆinlineå‡½æ•°ã€‚ä½¿ç”¨12345// ç±»å¤–å®šä¹‰éœ€è¦æ˜¾ç¤ºinlineclass A&#123; void b();&#125;inline void A::b()&#123;&#125;; ç¼–è¯‘å™¨å¯¹inlineå‡½æ•°çš„å¤„ç†è¿‡ç¨‹1. å‡½æ•°ä½“å¤åˆ¶åˆ°è°ƒç”¨ç‚¹ã€‚ 2. ä¸ºå±€éƒ¨å˜é‡åˆ†é…å†…å­˜ç©ºé—´ã€‚ 3. å°†inlineå‡½æ•°ä¸­çš„è¾“å…¥å‚æ•°å’Œè¿”å›å€¼æ˜ å°„åˆ°è°ƒç”¨æ–¹æ³•çš„å±€éƒ¨å˜é‡ç©ºé—´ã€‚ 4. å¦‚æœ inline å‡½æ•°æœ‰å¤šä¸ªè¿”å›ç‚¹ï¼Œå°†å…¶è½¬å˜ä¸º inline å‡½æ•°ä»£ç å—æœ«å°¾çš„åˆ†æ”¯ï¼ˆä½¿ç”¨ gotoï¼‰ã€‚ä¼˜åŠ£ä¼˜ç‚¹1. å†…è”å‡½æ•°åŒå®å‡½æ•°ä¸€æ ·å°†åœ¨è¢«è°ƒç”¨å¤„è¿›è¡Œä»£ç å±•å¼€ï¼Œçœå»äº†å‚æ•°å‹æ ˆã€æ ˆå¸§å¼€è¾Ÿä¸å›æ”¶ï¼Œç»“æœè¿”å›ç­‰ï¼Œä»è€Œæé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦ã€‚ 2. å†…è”å‡½æ•°ç›¸æ¯”å®å‡½æ•°æ¥è¯´ï¼Œåœ¨ä»£ç å±•å¼€æ—¶ï¼Œä¼šåšå®‰å…¨æ£€æŸ¥æˆ–è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆåŒæ™®é€šå‡½æ•°ï¼‰ï¼Œè€Œå®å®šä¹‰åˆ™ä¸ä¼šã€‚ 3. åœ¨ç±»ä¸­å£°æ˜åŒæ—¶å®šä¹‰çš„æˆå‘˜å‡½æ•°ï¼Œè‡ªåŠ¨è½¬åŒ–ä¸ºå†…è”å‡½æ•°ï¼Œå› æ­¤å†…è”å‡½æ•°å¯ä»¥è®¿é—®ç±»çš„æˆå‘˜å˜é‡ï¼Œå®å®šä¹‰åˆ™ä¸èƒ½ã€‚ 4. å†…è”å‡½æ•°åœ¨è¿è¡Œæ—¶å¯è°ƒè¯•ï¼Œè€Œå®å®šä¹‰ä¸å¯ä»¥ã€‚ç¼ºç‚¹1. ä»£ç è†¨èƒ€ï¼Œçœå»äº†è°ƒç”¨å‡½æ•°çš„å¼€é”€ã€‚å…³é”®åœ¨äºå‡½æ•°ä½“å†…æ‰§è¡Œæ—¶é—´å’Œè°ƒç”¨å‡½æ•°å¼€é”€çš„å¹³è¡¡ã€‚ 2. inlineå‡½æ•°æ— æ³•éšç€å‡½æ•°åº“å‡çº§è€Œå‡çº§ï¼Œinlineå‡½æ•°æ”¹å˜éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œæ— æ³•ç›´æ¥é“¾æ¥ã€‚ 3. æ˜¯å¦å†…è”ï¼Œç¨‹åºå‘˜ä¸å¯æ§ã€‚å†…è”å‡½æ•°åªæ˜¯å¯¹ç¼–è¯‘å™¨çš„å»ºè®®ï¼Œæ˜¯å¦å¯¹å‡½æ•°å†…è”ï¼Œå†³å®šæƒåœ¨äºç¼–è¯‘å™¨ã€‚tips: virtualå¯ä»¥inlineï¼Œä½†æ˜¯å½“virtualè¡¨ç¤ºå¤šæ€æ€§æ—¶ï¼Œä¸èƒ½å†…è”ã€‚ inlineæ˜¯ç¼–è¯‘å™¨å»ºè®®ç¼–è¯‘å™¨å†…è”ï¼Œåœ¨ç¨‹åºè¿è¡Œä¹‹å‰ï¼Œä½†æ˜¯å¤šæ€æ€§çš„è¡¨ç°åœ¨ç¨‹åºè¿è¡Œä¸­ã€‚ å½“ç¼–è¯‘å™¨æ˜ç¡®çŸ¥é“è°ƒç”¨å¯¹è±¡æ˜¯å“ªä¸€ä¸ªç±»æ—¶ï¼Œå…·æœ‰å®é™…å¯¹è±¡ï¼Œè€Œä¸æ˜¯å¯¹è±¡æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ inline virtual volatile1volatile int a = 1; 1. volatile å…³é”®å­—æ˜¯ä¸€ç§ç±»å‹ä¿®é¥°ç¬¦ï¼Œç”¨å®ƒå£°æ˜çš„ç±»å‹å˜é‡è¡¨ç¤ºå¯ä»¥è¢«æŸäº›ç¼–è¯‘å™¨æœªçŸ¥çš„å› ç´ ï¼ˆæ“ä½œç³»ç»Ÿã€ç¡¬ä»¶ã€å…¶å®ƒçº¿ç¨‹ç­‰ï¼‰æ›´æ”¹ã€‚æ‰€ä»¥ä½¿ç”¨ volatile å‘Šè¯‰ç¼–è¯‘å™¨ä¸åº”å¯¹è¿™æ ·çš„å¯¹è±¡è¿›è¡Œä¼˜åŒ–ã€‚ 2. volatile å…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œæ¯æ¬¡è®¿é—®æ—¶éƒ½å¿…é¡»ä»å†…å­˜ä¸­å–å‡ºå€¼ï¼ˆæ²¡æœ‰è¢« volatile ä¿®é¥°çš„å˜é‡ï¼Œå¯èƒ½ç”±äºç¼–è¯‘å™¨çš„ä¼˜åŒ–ï¼Œä» CPU å¯„å­˜å™¨ä¸­å–å€¼ï¼‰ 3. const å¯ä»¥æ˜¯ volatile ï¼ˆå¦‚åªè¯»çš„çŠ¶æ€å¯„å­˜å™¨ï¼‰ 4. æŒ‡é’ˆå¯ä»¥æ˜¯ volatile12345678## assert()æ–­è¨€ï¼Œæ˜¯å®ï¼Œè€Œéå‡½æ•°ã€‚assert å®çš„åŸå‹å®šä¹‰åœ¨ &lt;assert.h&gt;ï¼ˆCï¼‰ã€&lt;cassert&gt;ï¼ˆC++ï¼‰ä¸­ï¼Œå…¶ä½œç”¨æ˜¯å¦‚æœå®ƒçš„æ¡ä»¶è¿”å›é”™è¯¯ï¼Œåˆ™ç»ˆæ­¢ç¨‹åºæ‰§è¡Œã€‚å¯ä»¥é€šè¿‡å®šä¹‰ NDEBUG æ¥å…³é—­ assertï¼Œä½†æ˜¯éœ€è¦åœ¨æºä»£ç çš„å¼€å¤´ï¼Œinclude &lt;assert.h&gt; ä¹‹å‰ã€‚### ä½¿ç”¨```c++# define NDEBUG# cinlude &lt;cassert&gt;assert(p!=NULL); pragma pack(n)å¼ºåˆ¶è®¾å®šstruct,union,classæˆå‘˜å˜é‡ä»¥n å­—èŠ‚å¯¹é½æ–¹å¼ã€‚ 12#pragma pack(push)#pragma pack(8) ä½åŸŸ1Bit mode:2; ç±»å¯ä»¥å°†å…¶ï¼ˆéé™æ€ï¼‰æ•°æ®æˆå‘˜å®šä¹‰ä¸ºä½åŸŸï¼ˆbit-fieldï¼‰ï¼Œåœ¨ä¸€ä¸ªä½åŸŸä¸­å«æœ‰ä¸€å®šæ•°é‡çš„äºŒè¿›åˆ¶ä½ã€‚ ä½åŸŸå†…å­˜å¸ƒå±€å’Œæœºå™¨æœ‰å…³ ç±»å‹å¿…é¡»æ˜¯æ•´å‹æˆ–è€…æšä¸¾ï¼Œsigned intæ ¹æ®å…·ä½“å®ç°è€Œå®šã€‚ å–åœ°å€å’ŒæŒ‡é’ˆä¸èƒ½ä½œç”¨äºä½åŸŸã€‚ extern â€œCâ€æŒ‰ç…§Cè¯­è¨€æ–¹å¼ç¼–è¯‘å’Œé“¾æ¥ã€‚extern â€œCâ€ çš„ä½œç”¨æ˜¯è®© C++ ç¼–è¯‘å™¨å°† extern â€œCâ€ å£°æ˜çš„ä»£ç å½“ä½œ C è¯­è¨€ä»£ç å¤„ç†ï¼Œå¯ä»¥é¿å… C++ å› ç¬¦å·ä¿®é¥°å¯¼è‡´ä»£ç ä¸èƒ½å’ŒCè¯­è¨€åº“ä¸­çš„ç¬¦å·è¿›è¡Œé“¾æ¥çš„é—®é¢˜ã€‚ 1234567#ifdef _cpextern "C"&#123;#endif void *memeset(void *,int ,size_t);#ifdef _cp&#125;#endif structc12345typedef struct a&#123;&#125;s;// ç­‰ä»·äºstruct a&#123;&#125;;typedef struct a s;// ä½†ä¸¤ä¸ªæ ‡è¯†ç¬¦åç§°ç©ºé—´ä¸ç›¸åŒã€‚ cppç¼–è¯‘å™¨å®šä½ç¬¦å·çš„è§„åˆ™æ”¹å˜ï¼Œé¦–å…ˆæœç´¢å…¨å±€æ ‡è¯†ç¬¦è¡¨ï¼Œå¦‚æœæ²¡æœ‰å°†ä¼šæœç´¢ç±»æ ‡è¯†ç¬¦è¡¨ã€‚ æ²¡æœ‰åŒåç±» Aï¼Œå¯çœç•¥struct 12struct A&#123;&#125;;void m(A m); å¦‚æœæœ‰åŒåç±» Aï¼Œåˆ™A ä»£è¡¨ç±»Aï¼Œstruct A ä»£è¡¨ç»“æ„ä½“Aã€‚ classå’Œstruct æœ¬è´¨åŒºåˆ«æ˜¯é»˜è®¤çš„è®¿é—®æƒé™ï¼Œstructé»˜è®¤public,classé»˜è®¤privateã€‚ unionè”åˆï¼ˆunionï¼‰æ˜¯ä¸€ç§èŠ‚çœç©ºé—´çš„ç‰¹æ®Šçš„ç±»ï¼Œä¸€ä¸ª union å¯ä»¥æœ‰å¤šä¸ªæ•°æ®æˆå‘˜ï¼Œä½†æ˜¯åœ¨ä»»æ„æ—¶åˆ»åªæœ‰ä¸€ä¸ªæ•°æ®æˆå‘˜å¯ä»¥æœ‰å€¼ã€‚å½“æŸä¸ªæˆå‘˜è¢«èµ‹å€¼åå…¶ä»–æˆå‘˜å˜ä¸ºæœªå®šä¹‰çŠ¶æ€ã€‚è”åˆæœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š * é»˜è®¤æƒé™public * å¯ä»¥å«æœ‰ææ„å‡½æ•°ï¼Œæ„é€ å‡½æ•° * ä¸èƒ½å«æœ‰å¼•ç”¨ç±»å‹çš„æˆå‘˜ * ä¸èƒ½ä½œä¸ºderived classï¼Œä¸èƒ½ä½œä¸ºbase class * ä¸èƒ½å«æœ‰virtual * åŒ¿åunionåœ¨å®šä¹‰æ‰€åœ¨çš„scopeå¯ç›´æ¥è®¿é—®union member * åŒ¿åunionä¸èƒ½åŒ…å«protectedå’Œprivate member * å…¨å±€åŒ¿åè”åˆå¿…é¡»æ˜¯staticã€‚explicit ä¿®é¥°æ„é€ å‡½æ•°ï¼Œé˜²æ­¢éšå¼è½¬æ¢å’Œå¤åˆ¶åˆå§‹åŒ–ã€‚ ä¿®é¥°è½¬æ¢å‡½æ•°ï¼Œé˜²æ­¢éšå¼è½¬æ¢ï¼ŒæŒ‰è¯­å¢ƒè½¬æ¢é™¤å¤–ã€‚ æŒ‰è¯­å¢ƒè½¬æ¢ ifã€whileã€for çš„æ§åˆ¶è¡¨è¾¾å¼ï¼› å†…å»ºé€»è¾‘è¿ç®—ç¬¦ !ã€&amp;&amp; å’Œ || çš„æ“ä½œæ•°ï¼› æ¡ä»¶è¿ç®—ç¬¦ ?: çš„é¦–ä¸ªæ“ä½œæ•°ï¼› static_assert å£°æ˜ä¸­çš„è°“è¯ï¼› noexcept è¯´æ˜ç¬¦ä¸­çš„è¡¨è¾¾å¼ï¼›12345678910111213141516171819202122232425262728293031class A&#123; A(int a)&#123;&#125; operator bool() const &#123;return false;&#125;&#125;;class B&#123; B(int b)&#123;&#125; explicit operator bool() const&#123;return false;&#125;&#125;;void getA(A a)&#123;&#125;void getB(B b)&#123;&#125;int main()&#123; A a1(1);//ç›´æ¥åˆå§‹åŒ– A a2 = 1;//å¤åˆ¶åˆå§‹åŒ– A a3&#123;1&#125;;//ç›´æ¥åˆ—è¡¨åˆå§‹åŒ– A a4 = &#123;1&#125;;//å¤åˆ¶åˆ—è¡¨åˆå§‹åŒ– A a5 = (A)1;//å…è®¸static_cast æ˜¾ç¤ºè½¬å‹ getA(1);//å…è®¸intåˆ°Açš„éšå¼è½¬æ¢ if (a1);//ä½¿ç”¨è½¬æ¢å‡½æ•°A::operator bool() çš„ä»Aåˆ°boolçš„éšå¼è½¬æ¢ bool a6(a1);//ä½¿ç”¨è½¬æ¢å‡½æ•° A::operator bool()çš„ä»Aåˆ°boolçš„éšå¼è½¬æ¢ bool a7 = a1;//ä½¿ç”¨è½¬æ¢å‡½æ•°A::operator bool()çš„ä»Aåˆ°boolçš„éšå¼è½¬æ¢ bool a8 = static_cast&lt;bool&gt;(a1);//static_cast è¿›è¡Œç›´æ¥åˆå§‹åŒ– B b1(1);//ok B b2 = 1;//false, explitctä¿®é¥°çš„æ„é€ å‡½æ•°ä¸å¯å¤åˆ¶åˆå§‹åŒ–ï¼Œä¸å¯å¤åˆ¶åˆ—è¡¨åˆå§‹åŒ– getB(b1);// è¢«explicitä¿®é¥°çš„æ„é€ å‡½æ•°çš„å¯¹è±¡ä¸å…è®¸ä½ intåˆ°Béšå¼è½¬æ¢ if(b1); bool b6(b1); //è¢«explicit ä¿®é¥°çš„è½¬æ¢å‡½æ•°çš„å¯¹è±¡å¯ä»¥æŒ‰è¯­å¢ƒè½¬æ¢ã€‚ bool b7 = b1; falseï¼Œè¢«explicitä¿®é¥°çš„æ„é€ å‡½æ•°çš„å¯¹è±¡ä¸å…è®¸Båˆ°boolçš„è½¬å‹ã€‚ bool b8 = static_cast&lt;bool&gt;(b1); return 0;&#125; å¼•ç”¨1) å·¦å€¼å¼•ç”¨å£°æ˜ç¬¦ï¼šå£°æ˜ S&amp; D; å°† D å£°æ˜ä¸ºåˆ° å£°æ˜è¯´æ˜ç¬¦åºåˆ— æ‰€ç¡®å®šçš„ç±»å‹ S çš„å·¦å€¼å¼•ç”¨ã€‚ 2) å³å€¼å¼•ç”¨å£°æ˜ç¬¦ï¼šå£°æ˜ S&amp;&amp; D; å°† D å£°æ˜ä¸ºåˆ° å£°æ˜è¯´æ˜ç¬¦åºåˆ— æ‰€ç¡®å®šçš„ç±»å‹ S çš„å³å€¼å¼•ç”¨ã€‚ * ä¸å­˜åœ¨ void çš„å¼•ç”¨ï¼Œä¹Ÿä¸å­˜åœ¨å¼•ç”¨çš„å¼•ç”¨,å¼•ç”¨çš„æ•°ç»„,æŒ‡å‘å¼•ç”¨çš„æŒ‡é’ˆ. * å¼•ç”¨åç¼©ï¼šå®¹è®¸é€šè¿‡æ¨¡æ¿æˆ– typedef ä¸­çš„ç±»å‹æ“ä½œæ„æˆå¼•ç”¨çš„å¼•ç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹é€‚ç”¨å¼•ç”¨åç¼©ï¼ˆreference coolapsingï¼‰è§„åˆ™ï¼šå³å€¼å¼•ç”¨çš„å³å€¼å¼•ç”¨ åç¼©æˆå³å€¼å¼•ç”¨ï¼Œæ‰€æœ‰å…¶ä»–ç»„åˆå‡ åç¼©æˆå·¦å€¼å¼•ç”¨; * å½“å‡½æ•°çš„è¿”å›å€¼æ˜¯å·¦å€¼å¼•ç”¨æ—¶ï¼Œå‡½æ•°è°ƒç”¨è¡¨è¾¾å¼æˆä¸ºå·¦å€¼è¡¨è¾¾å¼ï¼š1234567typedef int&amp; lref;typedef int&amp;&amp; rref;int n;lref&amp; r1 = n; // r1 çš„ç±»å‹æ˜¯ int&amp;lref&amp;&amp; r2 = n; // r2 çš„ç±»å‹æ˜¯ int&amp;rref&amp; r3 = n; // r3 çš„ç±»å‹æ˜¯ int&amp;rref&amp;&amp; r4 = 1; // r4 çš„ç±»å‹æ˜¯ int&amp;&amp; å·¦å€¼å¼•ç”¨å¸¸è§„å¼•ç”¨ï¼Œä¸€èˆ¬è¡¨ç¤ºå¯¹è±¡çš„èº«ä»½ã€‚å³å€¼å¼•ç”¨å³å€¼å¼•ç”¨å°±æ˜¯å¿…é¡»ç»‘å®šåˆ°å³å€¼ï¼ˆä¸€ä¸ªä¸´æ—¶å¯¹è±¡ã€å°†è¦é”€æ¯çš„å¯¹è±¡ï¼‰çš„å¼•ç”¨ï¼Œä¸€èˆ¬è¡¨ç¤ºå¯¹è±¡çš„å€¼ã€‚ å³å€¼å¼•ç”¨å¯å®ç°è½¬ç§»è¯­ä¹‰ï¼ˆMove Sementicsï¼‰å’Œç²¾ç¡®ä¼ é€’ï¼ˆPerfect Forwardingï¼‰ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æœ‰ä¸¤ä¸ªæ–¹é¢ï¼š æ¶ˆé™¤ä¸¤ä¸ªå¯¹è±¡äº¤äº’æ—¶ä¸å¿…è¦çš„å¯¹è±¡æ‹·è´ï¼ŒèŠ‚çœè¿ç®—å­˜å‚¨èµ„æºï¼Œæé«˜æ•ˆç‡ã€‚ èƒ½å¤Ÿæ›´ç®€æ´æ˜ç¡®åœ°å®šä¹‰æ³›å‹å‡½æ•°ã€‚ å³å€¼å¼•ç”¨å¯ç”¨äºä¸ºä¸´æ—¶å¯¹è±¡å»¶é•¿ç”Ÿå­˜æœŸï¼ˆå·¦å€¼å¼•ç”¨äº¦èƒ½å»¶é•¿ä¸´æ—¶å¯¹è±¡ç”Ÿå­˜æœŸï¼Œä½†ä¸èƒ½é€šè¿‡å·¦å€¼å¼•ç”¨ä¿®æ”¹ï¼‰æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æœ‰äº›åœºåˆå¿…é¡»è¦ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼š 1. å¸¸é‡æˆå‘˜ï¼Œå› ä¸ºå¸¸é‡åªèƒ½åˆå§‹åŒ–ä¸èƒ½èµ‹å€¼ï¼Œæ‰€ä»¥å¿…é¡»æ”¾åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œé¢ 2. å¼•ç”¨ç±»å‹ï¼Œå¼•ç”¨å¿…é¡»åœ¨å®šä¹‰çš„æ—¶å€™åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸èƒ½é‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥ä¹Ÿè¦å†™åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œé¢ 3. æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ç±»å‹ï¼Œå› ä¸ºä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥ä¸å¿…è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–]]></content>
      <categories>
        <category>è¯­è¨€</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jupyter notebook å¯¼å…¥condaç¯å¢ƒ]]></title>
    <url>%2Funcategorized%2Fjupyter%2F</url>
    <content type="text"><![CDATA[jupyter notebookå¯¼å…¥condaç¯å¢ƒ ä¸ä½¿ç”¨ipykernelï¼Œé‡‡ç”¨nb_condaconda install nb_conda æ³¨æ„å®‰è£…çš„æ—¶å€™ä¸è¦æ¿€æ´»ç¯å¢ƒ å¯ä»¥ç›´æ¥åœ¨jupyteré‡Œé¢å®‰è£…åŒ… å¯ä»¥åœ¨ipynbé‡Œé¢æ›´æ”¹ç¯å¢ƒ]]></content>
      <tags>
        <tag>conda</tag>
        <tag>jupyter</tag>
        <tag>notebook</tag>
      </tags>
  </entry>
</search>
